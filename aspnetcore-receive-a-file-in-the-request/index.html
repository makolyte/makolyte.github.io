<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>ASP.NET Core &#x2d; How to receive a file in a web API request | makolyte</title>
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The SEO Framework by Sybre Waaijer -->
<meta name="robots" content="max-snippet:-1,max-image-preview:standard,max-video-preview:-1">
<link rel="canonical" href="/aspnetcore-receive-a-file-in-the-request/">
<meta name="description" content="Posted files are loaded into IFormFile objects, which has file info (such as filename) and exposes the file content as a stream">
<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="makolyte">
<meta property="og:title" content="ASP.NET Core &#x2d; How to receive a file in a web API request | makolyte">
<meta property="og:description" content="Posted files are loaded into IFormFile objects, which has file info (such as filename) and exposes the file content as a stream">
<meta property="og:url" content="/aspnetcore-receive-a-file-in-the-request/">
<meta property="og:image" content="/wp-content/uploads/2021/12/how-to-receive-a-file-in-a-web-API-request.png">
<meta property="og:image:width" content="833">
<meta property="og:image:height" content="316">
<meta property="article:published_time" content="2021-12-09T21:47:11+00:00">
<meta property="article:modified_time" content="2025-01-26T01:24:45+00:00">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@makolyte">
<meta name="twitter:title" content="ASP.NET Core &#x2d; How to receive a file in a web API request | makolyte">
<meta name="twitter:description" content="Posted files are loaded into IFormFile objects, which has file info (such as filename) and exposes the file content as a stream">
<meta name="twitter:image" content="/wp-content/uploads/2021/12/how-to-receive-a-file-in-a-web-API-request.png">
<script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"/#/schema/WebSite","url":"/","name":"makolyte","description":"Solve real coding problems","inLanguage":"en-US","potentialAction":{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"/search/{search_term_string}/"},"query-input":"required name=search_term_string"},"publisher":{"@type":"Organization","@id":"/#/schema/Organization","name":"makolyte","url":"/","sameAs":"https://twitter.com/makolyte","logo":{"@type":"ImageObject","url":"/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-4.png","contentUrl":"/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-4.png","width":332,"height":318}}},{"@type":"WebPage","@id":"/aspnetcore-receive-a-file-in-the-request/","url":"/aspnetcore-receive-a-file-in-the-request/","name":"ASP.NET Core - How to receive a file in a web API request | makolyte","description":"Posted files are loaded into IFormFile objects, which has file info (such as filename) and exposes the file content as a stream","inLanguage":"en-US","isPartOf":{"@id":"/#/schema/WebSite"},"breadcrumb":{"@type":"BreadcrumbList","@id":"/#/schema/BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":"/","name":"makolyte"},{"@type":"ListItem","position":2,"item":"/category/csharp/","name":"C#"},{"@type":"ListItem","position":3,"name":"ASP.NET Core - How to receive a file in a web API request"}]},"potentialAction":{"@type":"ReadAction","target":"/aspnetcore-receive-a-file-in-the-request/"},"datePublished":"2021-12-09T21:47:11+00:00","dateModified":"2025-01-26T01:24:45+00:00","author":{"@type":"Person","@id":"/#/schema/Person/e99fbed30936ed203340e328108b95ee","name":"Mak"}}]}</script>


<link rel="alternate" type="application/rss+xml" title="makolyte &raquo; Feed" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="makolyte &raquo; Comments Feed" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="makolyte &raquo; ASP.NET Core &#8211; How to receive a file in a web API request Comments Feed" href="/aspnetcore-receive-a-file-in-the-request/feed/">
<script>
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.7.2"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"üè≥Ô∏è‚Äç‚ößÔ∏è","üè≥Ô∏è‚Äã‚ößÔ∏è")?!1:!n(e,"üá∫üá≥","üá∫‚Äãüá≥")&&!n(e,"üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø","üè¥‚ÄãÛ†Åß‚ÄãÛ†Å¢‚ÄãÛ†Å•‚ÄãÛ†ÅÆ‚ÄãÛ†Åß‚ÄãÛ†Åø");case"emoji":return!n(e,"üê¶‚Äç‚¨õ","üê¶‚Äã‚¨õ")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
</script>
<style id="wp-emoji-styles-inline-css">img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}</style>
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=6.7.2" media="all">
<link rel="stylesheet" id="syntax-highlighting-code-block-theme-css" href="/wp-content/plugins/syntax-highlighting-code-block/vendor/scrivo/highlight-php/styles/vs2015.css?ver=1.5.1" media="all">
<style id="syntax-highlighting-code-block-inline-css">.wp-block-code {
	border: 0;
	padding: 0;
	-webkit-text-size-adjust: 100%;
	text-size-adjust: 100%;
}

.wp-block-code > span {
	display: block;
	overflow: auto;
}

.shcb-language {
	border: 0;
	clip: rect(1px, 1px, 1px, 1px);
	-webkit-clip-path: inset(50%);
	clip-path: inset(50%);
	height: 1px;
	margin: -1px;
	overflow: hidden;
	padding: 0;
	position: absolute;
	width: 1px;
	word-wrap: normal;
	word-break: normal;
}

.hljs {
	box-sizing: border-box;
}

.hljs.shcb-code-table {
	display: table;
	width: 100%;
}

.hljs.shcb-code-table > .shcb-loc {
	color: inherit;
	display: table-row;
	width: 100%;
}

.hljs.shcb-code-table .shcb-loc > span {
	display: table-cell;
}

.wp-block-code code.hljs:not(.shcb-wrap-lines) {
	white-space: pre;
}

.wp-block-code code.hljs.shcb-wrap-lines {
	white-space: pre-wrap;
}

.hljs.shcb-line-numbers {
	border-spacing: 0;
	counter-reset: line;
}

.hljs.shcb-line-numbers > .shcb-loc {
	counter-increment: line;
}

.hljs.shcb-line-numbers .shcb-loc > span {
	padding-left: 0.75em;
}

.hljs.shcb-line-numbers .shcb-loc::before {
	border-right: 1px solid #ddd;
	content: counter(line);
	display: table-cell;
	padding: 0 0.75em;
	text-align: right;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	white-space: nowrap;
	width: 1%;
}

.hljs > mark.shcb-loc { background-color: #3F3F3F; }</style>
<style id="classic-theme-styles-inline-css">/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style>
<style id="global-styles-inline-css">:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--contrast: var(--contrast);--wp--preset--color--contrast-2: var(--contrast-2);--wp--preset--color--contrast-3: var(--contrast-3);--wp--preset--color--base: var(--base);--wp--preset--color--base-2: var(--base-2);--wp--preset--color--base-3: var(--base-3);--wp--preset--color--accent: var(--accent);--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}</style>
<link rel="stylesheet" id="ez-toc-css" href="/wp-content/plugins/etoc-makolyte-mod/assets/css/screen.min.css?ver=2.0.17.1" media="all">
<style id="ez-toc-inline-css">div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}</style>
<link rel="stylesheet" id="related-frontend-css-css" href="/wp-content/plugins/related/css/frontend-style.css?ver=3.5.0" media="all">
<link rel="stylesheet" id="generate-style-css" href="/wp-content/themes/generatepress/assets/css/all.min.css?ver=3.3.1" media="all">
<style id="generate-style-inline-css">body{background-color:#ffffff;color:#000000;}a{color:#1e73be;}a:hover, a:focus, a:active{color:#000000;}body .grid-container{max-width:1400px;}.wp-block-group__inner-container{max-width:1400px;margin-left:auto;margin-right:auto;}.navigation-search{position:absolute;left:-99999px;pointer-events:none;visibility:hidden;z-index:20;width:100%;top:0;transition:opacity 100ms ease-in-out;opacity:0;}.navigation-search.nav-search-active{left:0;right:0;pointer-events:auto;visibility:visible;opacity:1;}.navigation-search input[type="search"]{outline:0;border:0;vertical-align:bottom;line-height:1;opacity:0.9;width:100%;z-index:20;border-radius:0;-webkit-appearance:none;height:60px;}.navigation-search input::-ms-clear{display:none;width:0;height:0;}.navigation-search input::-ms-reveal{display:none;width:0;height:0;}.navigation-search input::-webkit-search-decoration, .navigation-search input::-webkit-search-cancel-button, .navigation-search input::-webkit-search-results-button, .navigation-search input::-webkit-search-results-decoration{display:none;}.main-navigation li.search-item{z-index:21;}li.search-item.active{transition:opacity 100ms ease-in-out;}.nav-left-sidebar .main-navigation li.search-item.active,.nav-right-sidebar .main-navigation li.search-item.active{width:auto;display:inline-block;float:right;}.gen-sidebar-nav .navigation-search{top:auto;bottom:0;}:root{--contrast:#222222;--contrast-2:#575760;--contrast-3:#b2b2be;--base:#f0f0f0;--base-2:#f7f8f9;--base-3:#ffffff;--accent:#1e73be;}:root .has-contrast-color{color:var(--contrast);}:root .has-contrast-background-color{background-color:var(--contrast);}:root .has-contrast-2-color{color:var(--contrast-2);}:root .has-contrast-2-background-color{background-color:var(--contrast-2);}:root .has-contrast-3-color{color:var(--contrast-3);}:root .has-contrast-3-background-color{background-color:var(--contrast-3);}:root .has-base-color{color:var(--base);}:root .has-base-background-color{background-color:var(--base);}:root .has-base-2-color{color:var(--base-2);}:root .has-base-2-background-color{background-color:var(--base-2);}:root .has-base-3-color{color:var(--base-3);}:root .has-base-3-background-color{background-color:var(--base-3);}:root .has-accent-color{color:var(--accent);}:root .has-accent-background-color{background-color:var(--accent);}body, button, input, select, textarea{font-family:-apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";}body{line-height:1.5;}.entry-content > [class*="wp-block-"]:not(:last-child):not(.wp-block-heading){margin-bottom:1.5em;}.main-navigation .main-nav ul ul li a{font-size:14px;}.sidebar .widget, .footer-widgets .widget{font-size:17px;}h1{font-weight:300;font-size:40px;}h2{font-weight:300;font-size:30px;}h3{font-size:20px;}h4{font-size:inherit;}h5{font-size:inherit;}@media (max-width:768px){.main-title{font-size:30px;}h1{font-size:30px;}h2{font-size:25px;}}.top-bar{background-color:#636363;color:#ffffff;}.top-bar a{color:#ffffff;}.top-bar a:hover{color:#303030;}.site-header{background-color:#ffffff;color:#3a3a3a;}.site-header a{color:#3a3a3a;}.main-title a,.main-title a:hover{color:#222222;}.site-description{color:#757575;}.main-navigation,.main-navigation ul ul{background-color:#222222;}.main-navigation .main-nav ul li a, .main-navigation .menu-toggle, .main-navigation .menu-bar-items{color:#ffffff;}.main-navigation .main-nav ul li:not([class*="current-menu-"]):hover > a, .main-navigation .main-nav ul li:not([class*="current-menu-"]):focus > a, .main-navigation .main-nav ul li.sfHover:not([class*="current-menu-"]) > a, .main-navigation .menu-bar-item:hover > a, .main-navigation .menu-bar-item.sfHover > a{color:#ffffff;background-color:#3f3f3f;}button.menu-toggle:hover,button.menu-toggle:focus,.main-navigation .mobile-bar-items a,.main-navigation .mobile-bar-items a:hover,.main-navigation .mobile-bar-items a:focus{color:#ffffff;}.main-navigation .main-nav ul li[class*="current-menu-"] > a{color:#ffffff;background-color:#3f3f3f;}.navigation-search input[type="search"],.navigation-search input[type="search"]:active, .navigation-search input[type="search"]:focus, .main-navigation .main-nav ul li.search-item.active > a, .main-navigation .menu-bar-items .search-item.active > a{color:#ffffff;background-color:#3f3f3f;}.main-navigation ul ul{background-color:#3f3f3f;}.main-navigation .main-nav ul ul li a{color:#ffffff;}.main-navigation .main-nav ul ul li:not([class*="current-menu-"]):hover > a,.main-navigation .main-nav ul ul li:not([class*="current-menu-"]):focus > a, .main-navigation .main-nav ul ul li.sfHover:not([class*="current-menu-"]) > a{color:#ffffff;background-color:#4f4f4f;}.main-navigation .main-nav ul ul li[class*="current-menu-"] > a{color:#ffffff;background-color:#4f4f4f;}.separate-containers .inside-article, .separate-containers .comments-area, .separate-containers .page-header, .one-container .container, .separate-containers .paging-navigation, .inside-page-header{background-color:#ffffff;}.entry-meta{color:#595959;}.entry-meta a{color:#595959;}.entry-meta a:hover{color:#1e73be;}.sidebar .widget{background-color:#ffffff;}.sidebar .widget .widget-title{color:#000000;}.footer-widgets{background-color:#ffffff;}.footer-widgets .widget-title{color:#000000;}.site-info{color:#ffffff;background-color:#222222;}.site-info a{color:#ffffff;}.site-info a:hover{color:#606060;}.footer-bar .widget_nav_menu .current-menu-item a{color:#606060;}input[type="text"],input[type="email"],input[type="url"],input[type="password"],input[type="search"],input[type="tel"],input[type="number"],textarea,select{color:#666666;background-color:#fafafa;border-color:#cccccc;}input[type="text"]:focus,input[type="email"]:focus,input[type="url"]:focus,input[type="password"]:focus,input[type="search"]:focus,input[type="tel"]:focus,input[type="number"]:focus,textarea:focus,select:focus{color:#666666;background-color:#ffffff;border-color:#bfbfbf;}button,html input[type="button"],input[type="reset"],input[type="submit"],a.button,a.wp-block-button__link:not(.has-background){color:#ffffff;background-color:#666666;}button:hover,html input[type="button"]:hover,input[type="reset"]:hover,input[type="submit"]:hover,a.button:hover,button:focus,html input[type="button"]:focus,input[type="reset"]:focus,input[type="submit"]:focus,a.button:focus,a.wp-block-button__link:not(.has-background):active,a.wp-block-button__link:not(.has-background):focus,a.wp-block-button__link:not(.has-background):hover{color:#ffffff;background-color:#3f3f3f;}a.generate-back-to-top{background-color:rgba( 0,0,0,0.4 );color:#ffffff;}a.generate-back-to-top:hover,a.generate-back-to-top:focus{background-color:rgba( 0,0,0,0.6 );color:#ffffff;}:root{--gp-search-modal-bg-color:var(--base-3);--gp-search-modal-text-color:var(--contrast);--gp-search-modal-overlay-bg-color:rgba(0,0,0,0.2);}@media (max-width:768px){.main-navigation .menu-bar-item:hover > a, .main-navigation .menu-bar-item.sfHover > a{background:none;color:#ffffff;}}.inside-top-bar{padding:10px;}.site-main .wp-block-group__inner-container{padding:40px;}.entry-content .alignwide, body:not(.no-sidebar) .entry-content .alignfull{margin-left:-40px;width:calc(100% + 80px);max-width:calc(100% + 80px);}.container.grid-container{max-width:1480px;}.rtl .menu-item-has-children .dropdown-menu-toggle{padding-left:20px;}.rtl .main-navigation .main-nav ul li.menu-item-has-children > a{padding-right:20px;}.site-info{padding:20px;}@media (max-width:768px){.separate-containers .inside-article, .separate-containers .comments-area, .separate-containers .page-header, .separate-containers .paging-navigation, .one-container .site-content, .inside-page-header{padding:30px;}.site-main .wp-block-group__inner-container{padding:30px;}.site-info{padding-right:10px;padding-left:10px;}.entry-content .alignwide, body:not(.no-sidebar) .entry-content .alignfull{margin-left:-30px;width:calc(100% + 60px);max-width:calc(100% + 60px);}}.one-container .sidebar .widget{padding:0px;}/* End cached CSS */@media (max-width:768px){.main-navigation .menu-toggle,.main-navigation .mobile-bar-items,.sidebar-nav-mobile:not(#sticky-placeholder){display:block;}.main-navigation ul,.gen-sidebar-nav{display:none;}[class*="nav-float-"] .site-header .inside-header > *{float:none;clear:both;}}</style>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" title="JSON" type="application/json" href="/wp-json/wp/v2/posts/9573">
<script defer src="https://cloud.umami.is/script.js" data-website-id="b31b5afd-a6bb-4cbc-ad87-f7d58d45fac2"></script>
    <link rel="icon" href="/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-1-120x120.png" sizes="32x32">
<link rel="icon" href="/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-1-300x300.png" sizes="192x192">
<link rel="apple-touch-icon" href="/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-1-300x300.png">
<meta name="msapplication-TileImage" content="/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-1-300x300.png">
		<style id="wp-custom-css">.site-header .header-image {
height: 128px;
width: 91px;
}

.yarpp-related a{
    font-weight:normal !important;
}

.home-column-title {
       word-wrap: normal;
       word-break: keep-all;
	     padding-right: 4em !important;
}

.posted-on .updated {
    display: inline-block;
}

.posted-on .updated + .entry-date {
    display: none;
}

.posted-on .updated:before {
    content: "Last updated on ";
}
.posted-on .published:before {
    content: "Last updated on ";
}

.mako-grid 
{
	display:grid;
	grid-template-columns: 1fr 1fr;
	gap: 34px;
}
@media screen and (max-width: 768px)
{
	.mako-grid{
		display:grid;
		grid-template-columns: 1fr;
		gap: 34px;
	}
}

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  background: #1E1E1E;
  color: #DCDCDC;
}

.hljs-keyword,
.hljs-literal,
.hljs-symbol,
.hljs-name {
  color: #569CD6;
}
.hljs-link {
  color: #569CD6;
  text-decoration: underline;
}

.hljs-built_in,
.hljs-type {
  color: #4EC9B0;
}

.hljs-number,
.hljs-class {
  color: #B8D7A3;
}

.hljs-string,
.hljs-meta-string {
  color: #D69D85;
}

.hljs-regexp,
.hljs-template-tag {
  color: #9A5334;
}

.hljs-subst,
.hljs-function,
.hljs-title,
.hljs-params,
.hljs-formula {
  color: #DCDCDC;
}

.hljs-comment,
.hljs-quote {
  color: #57A64A;
  font-style: italic;
}

.hljs-doctag {
  color: #608B4E;
}

.hljs-meta,
.hljs-meta-keyword,
.hljs-tag {
  color: #9B9B9B;
}

.hljs-variable,
.hljs-template-variable {
  color: #BD63C5;
}

.hljs-attr,
.hljs-attribute,
.hljs-builtin-name {
  color: #9CDCFE;
}

.hljs-section {
  color: gold;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}

.hljs-bullet,
.hljs-selector-tag,
.hljs-selector-id,
.hljs-selector-class,
.hljs-selector-attr,
.hljs-selector-pseudo {
  color: #D7BA7D;
}

.hljs-addition {
  background-color: #144212;
  display: inline-block;
  width: 100%;
}

.hljs-deletion {
  background-color: #600;
  display: inline-block;
  width: 100%;
}</style>
		</head>

<body class="post-template-default single single-post postid-9573 single-format-standard wp-custom-logo wp-embed-responsive right-sidebar nav-float-right one-container fluid-header active-footer-widgets-3 nav-search-enabled header-aligned-left dropdown-hover" itemtype="https://schema.org/Blog" itemscope>
	<a class="screen-reader-text skip-link" href="#content" title="Skip to content">Skip to content</a>		<header class="site-header" id="masthead" aria-label="Site" itemtype="https://schema.org/WPHeader" itemscope>
			<div class="inside-header grid-container grid-parent">
				<div class="site-branding-container">
<div class="site-logo">
					<a href="/" rel="home">
						<img class="header-image is-logo-image" alt="makolyte" src="/wp-content/uploads/2019/12/makolyte-icon-128-e1575419011285.png">
					</a>
				</div>
<div class="site-branding">
						<p class="main-title" itemprop="headline">
					<a href="/" rel="home">
						makolyte
					</a>
				</p>
						<p class="site-description" itemprop="description">
					Solve real coding problems
				</p>
					</div>
</div>		<nav class="main-navigation grid-container grid-parent sub-menu-right" id="site-navigation" aria-label="Primary" itemtype="https://schema.org/SiteNavigationElement" itemscope>
			<div class="inside-navigation grid-container grid-parent">
						<div class="mobile-bar-items">
						<span class="search-item">
				<a aria-label="Open Search Bar" href="#">
					<span class="gp-icon icon-search"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path fill-rule="evenodd" clip-rule="evenodd" d="M208 48c-88.366 0-160 71.634-160 160s71.634 160 160 160 160-71.634 160-160S296.366 48 208 48zM0 208C0 93.125 93.125 0 208 0s208 93.125 208 208c0 48.741-16.765 93.566-44.843 129.024l133.826 134.018c9.366 9.379 9.355 24.575-.025 33.941-9.379 9.366-24.575 9.355-33.941-.025L337.238 370.987C301.747 399.167 256.839 416 208 416 93.125 416 0 322.875 0 208z"></path></svg><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M71.029 71.029c9.373-9.372 24.569-9.372 33.942 0L256 222.059l151.029-151.03c9.373-9.372 24.569-9.372 33.942 0 9.372 9.373 9.372 24.569 0 33.942L289.941 256l151.03 151.029c9.372 9.373 9.372 24.569 0 33.942-9.373 9.372-24.569 9.372-33.942 0L256 289.941l-151.029 151.03c-9.373 9.372-24.569 9.372-33.942 0-9.372-9.373-9.372-24.569 0-33.942L222.059 256 71.029 104.971c-9.372-9.373-9.372-24.569 0-33.942z"></path></svg></span>				</a>
			</span>
		</div>
						<button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">
					<span class="gp-icon icon-menu-bars"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M0 96c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24z"></path></svg><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M71.029 71.029c9.373-9.372 24.569-9.372 33.942 0L256 222.059l151.029-151.03c9.373-9.372 24.569-9.372 33.942 0 9.372 9.373 9.372 24.569 0 33.942L289.941 256l151.03 151.029c9.372 9.373 9.372 24.569 0 33.942-9.373 9.372-24.569 9.372-33.942 0L256 289.941l-151.029 151.03c-9.373 9.372-24.569 9.372-33.942 0-9.372-9.373-9.372-24.569 0-33.942L222.059 256 71.029 104.971c-9.372-9.373-9.372-24.569 0-33.942z"></path></svg></span><span class="mobile-menu">Menu</span>				</button>
				<div id="primary-menu" class="main-nav"><ul id="menu-primary-menu" class=" menu sf-menu">
<li id="menu-item-15" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15"><a href="/about/">About</a></li>
<li id="menu-item-305" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-305"><a href="/category/csharp/">C#</a></li>
<li id="menu-item-185" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-185"><a href="/category/sql/">SQL</a></li>

</ul></div>			</div>
		</nav>
					</div>
		</header>
		
	<div class="site grid-container container hfeed grid-parent" id="page">
				<div class="site-content" id="content">
			
	<div class="content-area grid-parent mobile-grid-100 grid-75 tablet-grid-75" id="primary">
		<main class="site-main" id="main">
			
<article id="post-9573" class="post-9573 post type-post status-publish format-standard hentry category-csharp tag-apicontroller tag-aspnetcore tag-async tag-await tag-badrequest tag-file tag-file-copytoasync tag-file-create tag-foreach tag-fromform-attribute tag-http-post tag-iformfile tag-linq-firstordefault tag-path-combine tag-path-getfilename tag-path-getrandomfilename tag-request-form tag-requestsizelimit-attribute tag-system-io" itemtype="https://schema.org/CreativeWork" itemscope>
	<div class="inside-article">
					<header class="entry-header" aria-label="Content">
				<h1 class="entry-title" itemprop="headline">ASP.NET Core &#8211; How to receive a file in a web API request</h1>		<div class="entry-meta">
			<span class="posted-on"><time class="updated" datetime="2025-01-25T20:24:45-05:00" itemprop="dateModified">01/25/2025</time><time class="entry-date published" datetime="2021-12-09T16:47:11-05:00" itemprop="datePublished">12/09/2021</time></span> <span class="byline">by <span class="author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope><a class="url fn n" href="/about/" title="Get to know more about Mak" rel="author" itemprop="url"><span class="author-name" itemprop="name">Mak</span></a></span></span> 		</div>
					</header>
			
		<div class="entry-content" itemprop="text">
			
<p>When the client posts a file in a <a href="/aspdotnet-core-get-posted-form-data-in-an-api-controller/" data-type="post" data-id="8444">multipart/form-data request</a>, it&#8217;s loaded into an IFormFile object. This contains file information (such as the file name) and exposes the file content as a stream. This allows you to <a href="/csharp-how-to-create-a-file-and-write-to-it/" data-type="post" data-id="16788">save the file content</a> or process it however you want to.</p>



<p>You can access the IFormFile object through Request.Form.Files:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-1" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span>&#91;<span class="hljs-meta">Route(<span class="hljs-meta-string">"&#91;controller]"</span>)</span>]
</span></span><span class="shcb-loc"><span>&#91;<span class="hljs-meta">ApiController</span>]
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">FilesController</span> : <span class="hljs-title">ControllerBase</span>
</span></span><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>	&#91;<span class="hljs-meta">HttpPost</span>]
</span></span><span class="shcb-loc"><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IActionResult&gt; <span class="hljs-title">Post</span>(<span class="hljs-params"></span>)</span>
</span></span><span class="shcb-loc"><span>	{
</span></span><mark class="shcb-loc"><span>		IFormFile file = Request.Form.Files.FirstOrDefault();
</span></mark><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>		<span class="hljs-comment">//process file content</span>
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>		<span class="hljs-keyword">return</span> Ok(<span class="hljs-string">$"Received file <span class="hljs-subst">{file.FileName}</span> with size in bytes <span class="hljs-subst">{file.Length}</span>"</span>);
</span></span><span class="shcb-loc"><span>	}
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-1"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p>Or you can add an IFormFile parameter (or add it as a model property), and it&#8217;ll map the file form data to the parameter by name:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-2" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span>&#91;<span class="hljs-meta">Route(<span class="hljs-meta-string">"&#91;controller]"</span>)</span>]
</span></span><span class="shcb-loc"><span>&#91;<span class="hljs-meta">ApiController</span>]
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">FilesController</span> : <span class="hljs-title">ControllerBase</span>
</span></span><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>	&#91;<span class="hljs-meta">HttpPost</span>]
</span></span><mark class="shcb-loc"><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IActionResult&gt; <span class="hljs-title">Post</span>(<span class="hljs-params">IFormFile file</span>)</span>
</span></mark><span class="shcb-loc"><span>	{
</span></span><span class="shcb-loc"><span>		<span class="hljs-comment">//process file content</span>
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>		<span class="hljs-keyword">return</span> Ok(<span class="hljs-string">$"Received file <span class="hljs-subst">{file.FileName}</span> with size in bytes <span class="hljs-subst">{file.Length}</span>"</span>);
</span></span><span class="shcb-loc"><span>	}
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-2"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p><em>Note: Make sure the IFormFile parameter name matches the file&#8217;s name attribute in the form data, otherwise it won&#8217;t map and will be null.</em></p>



<div id="ez-toc-container" class="ez-toc-v2_0_17_1 counter-hierarchy counter-decimal ez-toc-grey">
<div class="ez-toc-title-container">
<p class="ez-toc-title">Table of Contents</p>
<span class="ez-toc-title-toggle"></span>
</div>
<nav><ul class="ez-toc-list ez-toc-list-level-1">
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-1" href="#Saving_to_disk" title="Saving to disk">Saving to disk</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-2" href="#IFormFile_as_a_model_property" title="IFormFile as a model property">IFormFile as a model property</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-3" href="#File_size_limits" title="File size limits">File size limits</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-4" href="#Receiving_multiple_files" title="Receiving multiple files">Receiving multiple files</a></li>
</ul></nav>
</div>
<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Saving_to_disk"></span>Saving to disk<span class="ez-toc-section-end"></span>
</h2>



<p>IFormFile exposes the file content as a stream. You can save this to disk by creating a FileStream and copying the file stream to it. </p>



<p>Here&#8217;s an example of saving the file to disk:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-3" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers shcb-wrap-lines"><span class="shcb-loc"><span><span class="hljs-keyword">using</span> System.IO;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>&#91;<span class="hljs-meta">HttpPost</span>]
</span></span><span class="shcb-loc"><span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IActionResult&gt; <span class="hljs-title">Post</span>(<span class="hljs-params">IFormFile file</span>)</span>
</span></span><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">if</span> (file.Length &lt;= <span class="hljs-number">0</span>)
</span></span><span class="shcb-loc"><span>		<span class="hljs-keyword">return</span> BadRequest(<span class="hljs-string">"Empty file"</span>);
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>	<span class="hljs-comment">//Strip out any path specifiers (ex: /../)</span>
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">var</span> originalFileName = Path.GetFileName(file.FileName);
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>	<span class="hljs-comment">//Create a unique file path</span>
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">var</span> uniqueFileName = Path.GetRandomFileName();
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">var</span> uniqueFilePath = Path.Combine(<span class="hljs-string">@"C:\temp\"</span>, uniqueFileName);
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>	<span class="hljs-comment">//Save the file to disk</span>
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> stream = System.IO.File.Create(uniqueFilePath))
</span></span><span class="shcb-loc"><span>	{
</span></span><span class="shcb-loc"><span>		<span class="hljs-keyword">await</span> file.CopyToAsync(stream);
</span></span><span class="shcb-loc"><span>	}
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">return</span> Ok(<span class="hljs-string">$"Saved file <span class="hljs-subst">{originalFileName}</span> with size <span class="hljs-subst">{file.Length / <span class="hljs-number">1024</span>m:#<span class="hljs-number">.00</span>}</span> KB using unique name <span class="hljs-subst">{uniqueFileName}</span>"</span>);
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-3"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p><em>Note: For simplicity, this hardcodes the file upload directory (C:\temp\). Realistically, you&#8217;d want to put this setting with the rest of your config data.</em></p>



<p>Now <a href="/csharp-how-to-send-a-file-with-httpclient/" data-type="post" data-id="9693">send a request containing file content</a> to this endpoint. It saves the file to a dedicated file upload directory and uses a unique filename. It returns the response:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-4" data-shcb-language-name="plaintext" data-shcb-language-slug="plaintext"><span><code class="hljs language-plaintext">Saved file class-hierarchy-diagram.png with size 6.88 KB using unique name hseadpgk.xgf</code></span><small class="shcb-language" id="shcb-language-4"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">plaintext</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">plaintext</span><span class="shcb-language__paren">)</span></small></pre>


<h2 class="wp-block-heading">
<span class="ez-toc-section" id="IFormFile_as_a_model_property"></span>IFormFile as a model property<span class="ez-toc-section-end"></span>
</h2>



<p>In many cases, you&#8217;ll want to post the file with associated data as part of a model. You can add the IFormFile as a model property.</p>


<pre class="wp-block-code" aria-describedby="shcb-language-5" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Document</span>
</span></span><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Title { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Version { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">public</span> IFormFile File { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-5"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p>Then include the model as a parameter and apply the [FromForm] attribute:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-6" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span>&#91;<span class="hljs-meta">HttpPost</span>]
</span></span><span class="shcb-loc"><span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IActionResult&gt; <span class="hljs-title">Post</span>(<span class="hljs-params">&#91;FromForm]Document document</span>)</span>
</span></span><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>	<span class="hljs-comment">//process file </span>
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">return</span> Ok(<span class="hljs-string">$"Processed document <span class="hljs-subst">{document.Title}</span> v<span class="hljs-subst">{document.Version}</span> - <span class="hljs-subst">{document.File.FileName}</span>"</span>);
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-6"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p>It&#8217;ll load the file data into the IFormFile property and you can process / save it however you want.</p>



<p><em>Note: Include the [FromForm] attribute when mapping form data to a model, otherwise you&#8217;ll get a 415- Media Not Supported response.</em></p>



<h2 class="wp-block-heading">
<span class="ez-toc-section" id="File_size_limits"></span>File size limits<span class="ez-toc-section-end"></span>
</h2>



<p>File / request size limits are different per web server. In Kestrel-hosted web apps, the main default limits are:</p>



<ul class="wp-block-list">
<li>Request size limit of 30 MB.</li>



<li>Multipart form section size limit of 128 MB.</li>
</ul>



<p>You can change the limits for all requests or per action. I recommend changing the limits per action, because you&#8217;ll probably want drastically different limits for actions that deal with file uploading compared with other actions.</p>



<p>Here&#8217;s an example of increasing the request size limit to 60 MB:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-7" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span>&#91;<span class="hljs-meta">HttpPost</span>]
</span></span><span class="shcb-loc"><span>&#91;<span class="hljs-meta">RequestSizeLimit(bytes: 60_000_000)</span>]
</span></span><span class="shcb-loc"><span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IActionResult&gt; <span class="hljs-title">Post</span>(<span class="hljs-params">IFormFile file</span>)</span>
</span></span><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>	<span class="hljs-comment">//process file </span>
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">return</span> Ok();
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-7"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p>Files are <a href="/aspdotnet-core-get-posted-form-data-in-an-api-controller/" data-type="post" data-id="8444">sent as form data</a>, so you also have to take the form size limits into account. It&#8217;ll use the smallest applicable limit to determine if the request has exceeded limits. You can change the form size limits with the [RequestFormLimits] attribute.</p>



<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Receiving_multiple_files"></span>Receiving multiple files<span class="ez-toc-section-end"></span>
</h2>



<p>There are two ways to receive multiple files:</p>



<ul class="wp-block-list">
<li>Add an IFormFile parameter for each file.</li>



<li>Use IEnumerable&lt;IFormFile&gt; to receive multiple files into a single parameter.</li>
</ul>



<p>The first option is better when you know exactly how many files you require the client to pass in. The second option is better when the client can send any number of files.</p>



<p>Here&#8217;s an example of receiving multiple files:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-8" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span>&#91;<span class="hljs-meta">HttpPost</span>]
</span></span><span class="shcb-loc"><span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IActionResult&gt; <span class="hljs-title">Post</span>(<span class="hljs-params">IEnumerable&lt;IFormFile&gt; files</span>)</span>
</span></span><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">foreach</span>(<span class="hljs-keyword">var</span> file <span class="hljs-keyword">in</span> files)
</span></span><span class="shcb-loc"><span>	{
</span></span><span class="shcb-loc"><span>		<span class="hljs-comment">//process each file</span>
</span></span><span class="shcb-loc"><span>	}
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">return</span> Ok();
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-8"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p>When using this approach, the client will need to use the same <em>name</em> for each file they add to the form data.</p>
<div class="related_content" style="clear:both;">
<h3 class="widget-title">Related Articles</h3>
									<ul class="related-posts">
										<li class="related-post">
											<a href="/csharp-how-to-send-a-file-with-httpclient/">C# &#8211; How to send a file with HttpClient</a>
										</li>
										<li class="related-post">
											<a href="/how-to-upload-a-file-with-postman/">How to upload a file with Postman</a>
										</li>
										<li class="related-post">
											<a href="/csharp-how-to-create-a-file-and-write-to-it/">C# &#8211; How to create a file and write to it</a>
										</li>
										<li class="related-post">
											<a href="/csharp-how-to-update-a-files-contents/">C# &#8211; How to update a file&#8217;s contents</a>
										</li>
										<li class="related-post">
											<a href="/aspnetcore-four-basic-ways-to-receive-parameters/">ASP.NET Core &#8211; Four basic ways to receive parameters</a>
										</li>
									</ul>
									<div style="clear:both;"></div>
</div>
							</div>

				<footer class="entry-meta" aria-label="Entry meta">
			<span class="cat-links"><span class="gp-icon icon-categories"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M0 112c0-26.51 21.49-48 48-48h110.014a48 48 0 0143.592 27.907l12.349 26.791A16 16 0 00228.486 128H464c26.51 0 48 21.49 48 48v224c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112z"></path></svg></span><span class="screen-reader-text">Categories </span><a href="/category/csharp/" rel="category tag">C#</a></span> <span class="tags-links"><span class="gp-icon icon-tags"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M20 39.5c-8.836 0-16 7.163-16 16v176c0 4.243 1.686 8.313 4.687 11.314l224 224c6.248 6.248 16.378 6.248 22.626 0l176-176c6.244-6.244 6.25-16.364.013-22.615l-223.5-224A15.999 15.999 0 00196.5 39.5H20zm56 96c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24z"></path><path d="M259.515 43.015c4.686-4.687 12.284-4.687 16.97 0l228 228c4.686 4.686 4.686 12.284 0 16.97l-180 180c-4.686 4.687-12.284 4.687-16.97 0-4.686-4.686-4.686-12.284 0-16.97L479.029 279.5 259.515 59.985c-4.686-4.686-4.686-12.284 0-16.97z"></path></svg></span><span class="screen-reader-text">Tags </span><a href="/tag/apicontroller/" rel="tag">apicontroller</a>, <a href="/tag/aspnetcore/" rel="tag">aspnetcore</a>, <a href="/tag/async/" rel="tag">async</a>, <a href="/tag/await/" rel="tag">await</a>, <a href="/tag/badrequest/" rel="tag">badrequest</a>, <a href="/tag/file/" rel="tag">file</a>, <a href="/tag/file-copytoasync/" rel="tag">file-copytoasync</a>, <a href="/tag/file-create/" rel="tag">file-create</a>, <a href="/tag/foreach/" rel="tag">foreach</a>, <a href="/tag/fromform-attribute/" rel="tag">fromform-attribute</a>, <a href="/tag/http-post/" rel="tag">http-post</a>, <a href="/tag/iformfile/" rel="tag">iformfile</a>, <a href="/tag/linq-firstordefault/" rel="tag">linq-firstordefault</a>, <a href="/tag/path-combine/" rel="tag">path-combine</a>, <a href="/tag/path-getfilename/" rel="tag">path-getfilename</a>, <a href="/tag/path-getrandomfilename/" rel="tag">path-getrandomfilename</a>, <a href="/tag/request-form/" rel="tag">request-form</a>, <a href="/tag/requestsizelimit-attribute/" rel="tag">requestsizelimit-attribute</a>, <a href="/tag/system-io/" rel="tag">system-io</a></span> 		<nav id="nav-below" class="post-navigation" aria-label="Posts">
			<div class="nav-previous">
<span class="gp-icon icon-arrow-left"><svg viewbox="0 0 192 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M178.425 138.212c0 2.265-1.133 4.813-2.832 6.512L64.276 256.001l111.317 111.277c1.7 1.7 2.832 4.247 2.832 6.513 0 2.265-1.133 4.813-2.832 6.512L161.43 394.46c-1.7 1.7-4.249 2.832-6.514 2.832-2.266 0-4.816-1.133-6.515-2.832L16.407 262.514c-1.699-1.7-2.832-4.248-2.832-6.513 0-2.265 1.133-4.813 2.832-6.512l131.994-131.947c1.7-1.699 4.249-2.831 6.515-2.831 2.265 0 4.815 1.132 6.514 2.831l14.163 14.157c1.7 1.7 2.832 3.965 2.832 6.513z" fill-rule="nonzero"></path></svg></span><span class="prev"><a href="/csharp-how-to-read-response-headers-with-httpclient/" rel="prev">C# &#8211; How to read response headers with HttpClient</a></span>
</div>
<div class="nav-next">
<span class="gp-icon icon-arrow-right"><svg viewbox="0 0 192 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M178.425 256.001c0 2.266-1.133 4.815-2.832 6.515L43.599 394.509c-1.7 1.7-4.248 2.833-6.514 2.833s-4.816-1.133-6.515-2.833l-14.163-14.162c-1.699-1.7-2.832-3.966-2.832-6.515 0-2.266 1.133-4.815 2.832-6.515l111.317-111.316L16.407 144.685c-1.699-1.7-2.832-4.249-2.832-6.515s1.133-4.815 2.832-6.515l14.163-14.162c1.7-1.7 4.249-2.833 6.515-2.833s4.815 1.133 6.514 2.833l131.994 131.993c1.7 1.7 2.832 4.249 2.832 6.515z" fill-rule="nonzero"></path></svg></span><span class="next"><a href="/how-to-upload-a-file-with-postman/" rel="next">How to upload a file with Postman</a></span>
</div>		</nav>
				</footer>
			</div>
</article>

			<div class="comments-area">
				<div id="comments">

	<h3 class="comments-title">16 thoughts on &ldquo;ASP.NET Core &#8211; How to receive a file in a web API request&rdquo;</h3>
		<ol class="comment-list">
			
		<li id="comment-15689" class="comment even thread-even depth-1 parent">
			<article class="comment-body" id="div-comment-15689" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Tomas Jansson</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-15689">									<time datetime="2022-03-16T10:58:27-04:00" itemprop="datePublished">
										03/16/2022 at 10:58 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Great stuff. Have you also tested this with asp.net 6 minimal apis?</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-15697" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-15697" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-15697">									<time datetime="2022-03-16T12:12:46-04:00" itemprop="datePublished">
										03/16/2022 at 12:12 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Thanks Tomas.</p>
<p>I haven&#8217;t used the minimal API approach in a real project yet. So I did a quick test. It won&#8217;t work with an IFormFile parameter. Instead, you have to accept an HttpRequest parameter into the delegate and get the file from the form data. Here&#8217;s an example of accepting a posted file:</p>
<p>app.MapPost(&quot;/files&quot;, async Task&lt;IResult&gt; (HttpRequest request) =&gt;<br>
{<br>
    var form = await request.ReadFormAsync();<br>
    var formFile = form.Files[&quot;file&quot;];<br>
    return Results.Ok(formFile.FileName);</p>
<p>});</p>
<p>Based on this quick test, it&#8217;s way simpler to get a file using controllers compared with using the minimal API approach.</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->

		<li id="comment-15813" class="comment even thread-odd thread-alt depth-1 parent">
			<article class="comment-body" id="div-comment-15813" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Jorge</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-15813">									<time datetime="2022-03-18T10:03:05-04:00" itemprop="datePublished">
										03/18/2022 at 10:03 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Thaks for the post, Tomas. </p>
<p>Do you have any example of how to call this endpoint from a dotnet client, like Xamarin, WinUI&#8230;?</p>
<p>Kind regards!!</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-15815" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-15815" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-15815">									<time datetime="2022-03-18T11:07:06-04:00" itemprop="datePublished">
										03/18/2022 at 11:07 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Hi Jorge,</p>
<p>Here you go: <a href="/csharp-how-to-send-a-file-with-httpclient/">How to send a file with HttpClient</a>.</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->

		<li id="comment-16197" class="comment even thread-even depth-1 parent">
			<article class="comment-body" id="div-comment-16197" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Charlestown</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-16197">									<time datetime="2022-03-30T08:20:49-04:00" itemprop="datePublished">
										03/30/2022 at 8:20 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Your note, &#8220;&#8230;IFormFile parameter name matches the file‚Äôs name attribute&#8230;&#8221;, saved my day.<br>
Thank you so much!</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-16199" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-16199" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-16199">									<time datetime="2022-03-30T08:44:02-04:00" itemprop="datePublished">
										03/30/2022 at 8:44 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>I&#8217;m happy to hear that!</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->

		<li id="comment-16514" class="comment even thread-odd thread-alt depth-1 parent">
			<article class="comment-body" id="div-comment-16514" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Mayer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-16514">									<time datetime="2022-04-11T04:26:01-04:00" itemprop="datePublished">
										04/11/2022 at 4:26 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Bonjour et Merci pour le tutoriel<br>
Neamoins Jai une Question</p>
<p> var uniqueFilePath = Path.Combine(Config.FileUploadDirectory, uniqueFileName);</p>
<p>le mot Config presente une erreur chez moi. ya t&#8221;il un import a faire pour cela</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-16518" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-16518" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-16518">									<time datetime="2022-04-11T08:13:26-04:00" itemprop="datePublished">
										04/11/2022 at 8:13 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Bonjour,</p>
<p>Oh sorry. For this example, I added the Config class and hardcoded the path in the FileUploadDirectory property. This was meant to act as a placeholder for the reader to use their own configuration class. I can see this is too vague though.</p>
<p>I&#8217;ve simplified the example by hardcoding the path:<br>
var uniqueFilePath = Path.Combine(@&quot;C:\temp\&quot;, uniqueFileName);</p>
<p>Thanks for asking about this.</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->

		<li id="comment-17330" class="comment even thread-even depth-1 parent">
			<article class="comment-body" id="div-comment-17330" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Oshan</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-17330">									<time datetime="2022-05-03T19:05:57-04:00" itemprop="datePublished">
										05/03/2022 at 7:05 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Hi Mak, Thanks for the awesome tutorial!<br>
I checked <a href="/csharp-how-to-send-a-file-with-httpclient/" rel="ugc">/csharp-how-to-send-a-file-with-httpclient/</a> tutorial as well. These two helped me resolve a problem I had with File uploads for last few days.</p>
<p>Also, I really love the way you cover many scenarios. Keep up the good work.<br>
Cheers!</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-17361" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-17361" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-17361">									<time datetime="2022-05-04T11:22:27-04:00" itemprop="datePublished">
										05/04/2022 at 11:22 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>I&#8217;m happy to hear these two articles helped you with dealing with a file upload problem. And thank you for your kind feedback, I appreciate it!</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->

		<li id="comment-21793" class="comment even thread-odd thread-alt depth-1 parent">
			<article class="comment-body" id="div-comment-21793" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Ibrahim</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-21793">									<time datetime="2022-06-24T07:17:48-04:00" itemprop="datePublished">
										06/24/2022 at 7:17 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Hi Mak, thank you for your excellent post</p>
<p>I have tried to submit an object from client app to an API which contains some data and a file, but I failed to do so.<br>
(note from page author (Mak) &#8211; I removed the code here for brevity)</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-22438" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-22438" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-22438">									<time datetime="2022-06-29T13:46:38-04:00" itemprop="datePublished">
										06/29/2022 at 1:46 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>The model and API look fine. On the client-side, send the request with HttpClient as a multipart/form request. See an example here for your specific case where you&#8217;re including multiple fields in the form data: <a href="/csharp-how-to-send-a-file-with-httpclient/#Sending_form_data_with_multiple_fields_including_a_file">How to send a file with HttpClient</a></p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->

		<li id="comment-21794" class="comment even thread-even depth-1 parent">
			<article class="comment-body" id="div-comment-21794" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maika</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-21794">									<time datetime="2022-06-24T07:19:18-04:00" itemprop="datePublished">
										06/24/2022 at 7:19 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Hello Mak, i cant catch the files in the Method params. Its always empty, but in the request i get the files. Is there something else i have to do ?</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-22439" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-22439" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-22439">									<time datetime="2022-06-29T13:49:46-04:00" itemprop="datePublished">
										06/29/2022 at 1:49 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>In the multipart/form request, make sure all of the file keys have the same name as the parameter. </p>
<p>For example, if your method parameter is named &#8220;files&#8221;, make sure all files in the form data have their key set to &#8220;files&#8221;.</p>
<p>Also, make sure you&#8217;re using the parameter type IEnumerable&lt;IFormFile&gt;.</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->

		<li id="comment-23480" class="comment even thread-odd thread-alt depth-1 parent">
			<article class="comment-body" id="div-comment-23480" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Lari</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-23480">									<time datetime="2022-07-07T19:31:23-04:00" itemprop="datePublished">
										07/07/2022 at 7:31 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Thank you, Mak. Could you help me in how to make this file appear in the Method Post if it is stored in physical folder instead of being in the database? I made an application in which I get avatar image of the user, except it in physical folder, but do not konow how it will be displayed again to the user there in the avatar, I must create a new Controller for viewing?<br>
Another question, is about having made my Method Post to recdeive the image, however when I will test on Postman or Thunder Client, is giving the error 415, and sometimes 500, saying That I am getting a null body. Would you know how to help me?</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-23719" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-23719" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/aspnetcore-receive-a-file-in-the-request/#comment-23719">									<time datetime="2022-07-09T10:50:06-04:00" itemprop="datePublished">
										07/09/2022 at 10:50 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Hi,</p>
<p>1. In general, to display an image, use an img tag pointing to the image&#8217;s file path (relative or absolute). For example, &lt;img src=&quot;uploads/user1avatar.png&quot; /&gt;. Put the img tag on any page you want to show it to the user and populate it with that user&#8217;s avatar file path. </p>
<p>Now, I&#8217;m not quite sure, but I think you might be asking specifically about how to display the posted image to the user on the same page (right after they post it asynchronously). To do that, you could have an empty img tag on the upload page, and then return the image&#8217;s file path from the POST call (and then set the img tag to use the file path).</p>
<p>2. For the 415 error response, two things to check:<br>
a. Make sure to use content-type = multipart/form-data. Also, here&#8217;s an example of <a href="/how-to-upload-a-file-with-postman/">uploading a file with Postman</a>.</p>
<p>b. If you&#8217;re receiving the IFormFile as part of a model class (instead of as a method parameter), use the [FromForm] attribute on the model parameter. Check the <a href="/aspnetcore-receive-a-file-in-the-request/#IFormFile_as_a_model_property">IFormFile as a model property</a> section for an example </p>
<p>If you&#8217;re still running into problems, feel free to send a code snippet if you wish, and I&#8217;ll reply when I get a chance.</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->
		</ol>
<!-- .comment-list -->

			
	
</div>
<!-- #comments -->
			</div>

					</main>
	</div>

	<div class="widget-area sidebar is-right-sidebar grid-25 tablet-grid-25 grid-parent" id="right-sidebar">
	<div class="inside-right-sidebar">
		<aside id="block-19" class="widget inner-padding widget_block"><div></div></aside>	</div>
</div>

	</div>
</div>


<div class="site-footer footer-bar-active footer-bar-align-right">
			<footer class="site-info" aria-label="Site" itemtype="https://schema.org/WPFooter" itemscope>
			<div class="inside-site-info grid-container grid-parent">
						<div class="footer-bar">
			<aside id="block-11" class="widget inner-padding widget_block"></aside><aside id="block-7" class="widget inner-padding widget_block"><a href="/about/">About</a> ‚Ä¢ <a href="/privacy-policy/">Privacy Policy</a></aside>		</div>
						<div class="copyright-bar">
					<span class="copyright">&copy; 2025 makolyte</span></div>
			</div>
		</footer>
		</div>

<script id="generate-a11y">!function(){"use strict";if("querySelector"in document&&"addEventListener"in window){var e=document.body;e.addEventListener("mousedown",function(){e.classList.add("using-mouse")}),e.addEventListener("keydown",function(){e.classList.remove("using-mouse")})}}();</script><!--[if lte IE 11]>
<script src="/wp-content/themes/generatepress/assets/js/classList.min.js?ver=3.3.1" id="generate-classlist-js"></script>
<![endif]-->
<script id="generate-menu-js-extra">var generatepressMenu = {"toggleOpenedSubMenus":"1","openSubMenuLabel":"Open Sub-Menu","closeSubMenuLabel":"Close Sub-Menu"};</script>
<script src="/wp-content/themes/generatepress/assets/js/menu.min.js?ver=3.3.1" id="generate-menu-js"></script>
<script id="generate-navigation-search-js-extra">var generatepressNavSearch = {"open":"Open Search Bar","close":"Close Search Bar"};</script>
<script src="/wp-content/themes/generatepress/assets/js/navigation-search.min.js?ver=3.3.1" id="generate-navigation-search-js"></script>
<script src="/wp-includes/js/comment-reply.min.js?ver=6.7.2" id="comment-reply-js" async data-wp-strategy="async"></script>

</body>


<!-- plugin=object-cache-pro client=phpredis metric#hits=1826 metric#misses=51 metric#hit-ratio=97.3 metric#bytes=768127 metric#prefetches=0 metric#store-reads=99 metric#store-writes=10 metric#store-hits=121 metric#store-misses=47 metric#sql-queries=18 metric#ms-total=581.14 metric#ms-cache=102.40 metric#ms-cache-avg=0.9481 metric#ms-cache-ratio=17.6 -->
</html>
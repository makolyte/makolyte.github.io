<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>Send messages to an Amazon SNS topic using Spring Boot</title>
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The SEO Framework by Sybre Waaijer -->
<meta name="robots" content="max-snippet:-1,max-image-preview:standard,max-video-preview:-1">
<link rel="canonical" href="/send-messages-to-an-amazon-sns-topic-using-spring-boot/">
<meta name="description" content="Create an Amazon Simple Notification Service (Amazon SNS) topic and subscribe to it. Then build a Spring Boot app that receives and publishes messages to the topic.">
<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="makolyte">
<meta property="og:title" content="Send messages to an Amazon SNS topic using Spring Boot">
<meta property="og:description" content="Create an Amazon Simple Notification Service (Amazon SNS) topic and subscribe to it. Then build a Spring Boot app that receives and publishes messages to the topic.">
<meta property="og:url" content="/send-messages-to-an-amazon-sns-topic-using-spring-boot/">
<meta property="og:image" content="/wp-content/uploads/2021/02/postman-publish-sns-2.png">
<meta property="og:image:width" content="637">
<meta property="og:image:height" content="556">
<meta property="og:image:alt" content="postman-publish-message-to-sns">
<meta property="article:published_time" content="2021-02-27T18:12:55+00:00">
<meta property="article:modified_time" content="2024-05-19T15:02:22+00:00">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@makolyte">
<meta name="twitter:title" content="Send messages to an Amazon SNS topic using Spring Boot">
<meta name="twitter:description" content="Create an Amazon Simple Notification Service (Amazon SNS) topic and subscribe to it. Then build a Spring Boot app that receives and publishes messages to the topic.">
<meta name="twitter:image" content="/wp-content/uploads/2021/02/postman-publish-sns-2.png">
<meta name="twitter:image:alt" content="postman-publish-message-to-sns">
<script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"/#/schema/WebSite","url":"/","name":"makolyte","description":"Solve real coding problems","inLanguage":"en-US","potentialAction":{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"/search/{search_term_string}/"},"query-input":"required name=search_term_string"},"publisher":{"@type":"Organization","@id":"/#/schema/Organization","name":"makolyte","url":"/","sameAs":"https://twitter.com/makolyte","logo":{"@type":"ImageObject","url":"/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-4.png","contentUrl":"/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-4.png","width":332,"height":318}}},{"@type":"WebPage","@id":"/send-messages-to-an-amazon-sns-topic-using-spring-boot/","url":"/send-messages-to-an-amazon-sns-topic-using-spring-boot/","name":"Send messages to an Amazon SNS topic using Spring Boot","description":"Create an Amazon Simple Notification Service (Amazon SNS) topic and subscribe to it. Then build a Spring Boot app that receives and publishes messages to the topic.","inLanguage":"en-US","isPartOf":{"@id":"/#/schema/WebSite"},"breadcrumb":{"@type":"BreadcrumbList","@id":"/#/schema/BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":"/","name":"makolyte"},{"@type":"ListItem","position":2,"item":"/category/java/","name":"Java"},{"@type":"ListItem","position":3,"name":"Send messages to an Amazon SNS topic using Spring Boot"}]},"potentialAction":{"@type":"ReadAction","target":"/send-messages-to-an-amazon-sns-topic-using-spring-boot/"},"datePublished":"2021-02-27T18:12:55+00:00","dateModified":"2024-05-19T15:02:22+00:00","author":{"@type":"Person","@id":"/#/schema/Person/4d692ba2ebc1412757be072024641d62","name":"Yasmin"}}]}</script>


<link rel="alternate" type="application/rss+xml" title="makolyte &raquo; Feed" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="makolyte &raquo; Comments Feed" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="makolyte &raquo; Send messages to an Amazon SNS topic using Spring Boot Comments Feed" href="/send-messages-to-an-amazon-sns-topic-using-spring-boot/feed/">
<script>
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.7.2"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"üè≥Ô∏è‚Äç‚ößÔ∏è","üè≥Ô∏è‚Äã‚ößÔ∏è")?!1:!n(e,"üá∫üá≥","üá∫‚Äãüá≥")&&!n(e,"üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø","üè¥‚ÄãÛ†Åß‚ÄãÛ†Å¢‚ÄãÛ†Å•‚ÄãÛ†ÅÆ‚ÄãÛ†Åß‚ÄãÛ†Åø");case"emoji":return!n(e,"üê¶‚Äç‚¨õ","üê¶‚Äã‚¨õ")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
</script>
<style id="wp-emoji-styles-inline-css">img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}</style>
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=6.7.2" media="all">
<link rel="stylesheet" id="syntax-highlighting-code-block-theme-css" href="/wp-content/plugins/syntax-highlighting-code-block/vendor/scrivo/highlight-php/styles/vs2015.css?ver=1.5.1" media="all">
<style id="syntax-highlighting-code-block-inline-css">.wp-block-code {
	border: 0;
	padding: 0;
	-webkit-text-size-adjust: 100%;
	text-size-adjust: 100%;
}

.wp-block-code > span {
	display: block;
	overflow: auto;
}

.shcb-language {
	border: 0;
	clip: rect(1px, 1px, 1px, 1px);
	-webkit-clip-path: inset(50%);
	clip-path: inset(50%);
	height: 1px;
	margin: -1px;
	overflow: hidden;
	padding: 0;
	position: absolute;
	width: 1px;
	word-wrap: normal;
	word-break: normal;
}

.hljs {
	box-sizing: border-box;
}

.hljs.shcb-code-table {
	display: table;
	width: 100%;
}

.hljs.shcb-code-table > .shcb-loc {
	color: inherit;
	display: table-row;
	width: 100%;
}

.hljs.shcb-code-table .shcb-loc > span {
	display: table-cell;
}

.wp-block-code code.hljs:not(.shcb-wrap-lines) {
	white-space: pre;
}

.wp-block-code code.hljs.shcb-wrap-lines {
	white-space: pre-wrap;
}

.hljs.shcb-line-numbers {
	border-spacing: 0;
	counter-reset: line;
}

.hljs.shcb-line-numbers > .shcb-loc {
	counter-increment: line;
}

.hljs.shcb-line-numbers .shcb-loc > span {
	padding-left: 0.75em;
}

.hljs.shcb-line-numbers .shcb-loc::before {
	border-right: 1px solid #ddd;
	content: counter(line);
	display: table-cell;
	padding: 0 0.75em;
	text-align: right;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	white-space: nowrap;
	width: 1%;
}

.hljs > mark.shcb-loc { background-color: #3F3F3F; }</style>
<style id="classic-theme-styles-inline-css">/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style>
<style id="global-styles-inline-css">:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--contrast: var(--contrast);--wp--preset--color--contrast-2: var(--contrast-2);--wp--preset--color--contrast-3: var(--contrast-3);--wp--preset--color--base: var(--base);--wp--preset--color--base-2: var(--base-2);--wp--preset--color--base-3: var(--base-3);--wp--preset--color--accent: var(--accent);--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}</style>
<link rel="stylesheet" id="ez-toc-css" href="/wp-content/plugins/etoc-makolyte-mod/assets/css/screen.min.css?ver=2.0.17.1" media="all">
<style id="ez-toc-inline-css">div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}</style>
<link rel="stylesheet" id="related-frontend-css-css" href="/wp-content/plugins/related/css/frontend-style.css?ver=3.5.0" media="all">
<link rel="stylesheet" id="generate-style-css" href="/wp-content/themes/generatepress/assets/css/all.min.css?ver=3.3.1" media="all">
<style id="generate-style-inline-css">body{background-color:#ffffff;color:#000000;}a{color:#1e73be;}a:hover, a:focus, a:active{color:#000000;}body .grid-container{max-width:1400px;}.wp-block-group__inner-container{max-width:1400px;margin-left:auto;margin-right:auto;}.navigation-search{position:absolute;left:-99999px;pointer-events:none;visibility:hidden;z-index:20;width:100%;top:0;transition:opacity 100ms ease-in-out;opacity:0;}.navigation-search.nav-search-active{left:0;right:0;pointer-events:auto;visibility:visible;opacity:1;}.navigation-search input[type="search"]{outline:0;border:0;vertical-align:bottom;line-height:1;opacity:0.9;width:100%;z-index:20;border-radius:0;-webkit-appearance:none;height:60px;}.navigation-search input::-ms-clear{display:none;width:0;height:0;}.navigation-search input::-ms-reveal{display:none;width:0;height:0;}.navigation-search input::-webkit-search-decoration, .navigation-search input::-webkit-search-cancel-button, .navigation-search input::-webkit-search-results-button, .navigation-search input::-webkit-search-results-decoration{display:none;}.main-navigation li.search-item{z-index:21;}li.search-item.active{transition:opacity 100ms ease-in-out;}.nav-left-sidebar .main-navigation li.search-item.active,.nav-right-sidebar .main-navigation li.search-item.active{width:auto;display:inline-block;float:right;}.gen-sidebar-nav .navigation-search{top:auto;bottom:0;}:root{--contrast:#222222;--contrast-2:#575760;--contrast-3:#b2b2be;--base:#f0f0f0;--base-2:#f7f8f9;--base-3:#ffffff;--accent:#1e73be;}:root .has-contrast-color{color:var(--contrast);}:root .has-contrast-background-color{background-color:var(--contrast);}:root .has-contrast-2-color{color:var(--contrast-2);}:root .has-contrast-2-background-color{background-color:var(--contrast-2);}:root .has-contrast-3-color{color:var(--contrast-3);}:root .has-contrast-3-background-color{background-color:var(--contrast-3);}:root .has-base-color{color:var(--base);}:root .has-base-background-color{background-color:var(--base);}:root .has-base-2-color{color:var(--base-2);}:root .has-base-2-background-color{background-color:var(--base-2);}:root .has-base-3-color{color:var(--base-3);}:root .has-base-3-background-color{background-color:var(--base-3);}:root .has-accent-color{color:var(--accent);}:root .has-accent-background-color{background-color:var(--accent);}body, button, input, select, textarea{font-family:-apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";}body{line-height:1.5;}.entry-content > [class*="wp-block-"]:not(:last-child):not(.wp-block-heading){margin-bottom:1.5em;}.main-navigation .main-nav ul ul li a{font-size:14px;}.sidebar .widget, .footer-widgets .widget{font-size:17px;}h1{font-weight:300;font-size:40px;}h2{font-weight:300;font-size:30px;}h3{font-size:20px;}h4{font-size:inherit;}h5{font-size:inherit;}@media (max-width:768px){.main-title{font-size:30px;}h1{font-size:30px;}h2{font-size:25px;}}.top-bar{background-color:#636363;color:#ffffff;}.top-bar a{color:#ffffff;}.top-bar a:hover{color:#303030;}.site-header{background-color:#ffffff;color:#3a3a3a;}.site-header a{color:#3a3a3a;}.main-title a,.main-title a:hover{color:#222222;}.site-description{color:#757575;}.main-navigation,.main-navigation ul ul{background-color:#222222;}.main-navigation .main-nav ul li a, .main-navigation .menu-toggle, .main-navigation .menu-bar-items{color:#ffffff;}.main-navigation .main-nav ul li:not([class*="current-menu-"]):hover > a, .main-navigation .main-nav ul li:not([class*="current-menu-"]):focus > a, .main-navigation .main-nav ul li.sfHover:not([class*="current-menu-"]) > a, .main-navigation .menu-bar-item:hover > a, .main-navigation .menu-bar-item.sfHover > a{color:#ffffff;background-color:#3f3f3f;}button.menu-toggle:hover,button.menu-toggle:focus,.main-navigation .mobile-bar-items a,.main-navigation .mobile-bar-items a:hover,.main-navigation .mobile-bar-items a:focus{color:#ffffff;}.main-navigation .main-nav ul li[class*="current-menu-"] > a{color:#ffffff;background-color:#3f3f3f;}.navigation-search input[type="search"],.navigation-search input[type="search"]:active, .navigation-search input[type="search"]:focus, .main-navigation .main-nav ul li.search-item.active > a, .main-navigation .menu-bar-items .search-item.active > a{color:#ffffff;background-color:#3f3f3f;}.main-navigation ul ul{background-color:#3f3f3f;}.main-navigation .main-nav ul ul li a{color:#ffffff;}.main-navigation .main-nav ul ul li:not([class*="current-menu-"]):hover > a,.main-navigation .main-nav ul ul li:not([class*="current-menu-"]):focus > a, .main-navigation .main-nav ul ul li.sfHover:not([class*="current-menu-"]) > a{color:#ffffff;background-color:#4f4f4f;}.main-navigation .main-nav ul ul li[class*="current-menu-"] > a{color:#ffffff;background-color:#4f4f4f;}.separate-containers .inside-article, .separate-containers .comments-area, .separate-containers .page-header, .one-container .container, .separate-containers .paging-navigation, .inside-page-header{background-color:#ffffff;}.entry-meta{color:#595959;}.entry-meta a{color:#595959;}.entry-meta a:hover{color:#1e73be;}.sidebar .widget{background-color:#ffffff;}.sidebar .widget .widget-title{color:#000000;}.footer-widgets{background-color:#ffffff;}.footer-widgets .widget-title{color:#000000;}.site-info{color:#ffffff;background-color:#222222;}.site-info a{color:#ffffff;}.site-info a:hover{color:#606060;}.footer-bar .widget_nav_menu .current-menu-item a{color:#606060;}input[type="text"],input[type="email"],input[type="url"],input[type="password"],input[type="search"],input[type="tel"],input[type="number"],textarea,select{color:#666666;background-color:#fafafa;border-color:#cccccc;}input[type="text"]:focus,input[type="email"]:focus,input[type="url"]:focus,input[type="password"]:focus,input[type="search"]:focus,input[type="tel"]:focus,input[type="number"]:focus,textarea:focus,select:focus{color:#666666;background-color:#ffffff;border-color:#bfbfbf;}button,html input[type="button"],input[type="reset"],input[type="submit"],a.button,a.wp-block-button__link:not(.has-background){color:#ffffff;background-color:#666666;}button:hover,html input[type="button"]:hover,input[type="reset"]:hover,input[type="submit"]:hover,a.button:hover,button:focus,html input[type="button"]:focus,input[type="reset"]:focus,input[type="submit"]:focus,a.button:focus,a.wp-block-button__link:not(.has-background):active,a.wp-block-button__link:not(.has-background):focus,a.wp-block-button__link:not(.has-background):hover{color:#ffffff;background-color:#3f3f3f;}a.generate-back-to-top{background-color:rgba( 0,0,0,0.4 );color:#ffffff;}a.generate-back-to-top:hover,a.generate-back-to-top:focus{background-color:rgba( 0,0,0,0.6 );color:#ffffff;}:root{--gp-search-modal-bg-color:var(--base-3);--gp-search-modal-text-color:var(--contrast);--gp-search-modal-overlay-bg-color:rgba(0,0,0,0.2);}@media (max-width:768px){.main-navigation .menu-bar-item:hover > a, .main-navigation .menu-bar-item.sfHover > a{background:none;color:#ffffff;}}.inside-top-bar{padding:10px;}.site-main .wp-block-group__inner-container{padding:40px;}.entry-content .alignwide, body:not(.no-sidebar) .entry-content .alignfull{margin-left:-40px;width:calc(100% + 80px);max-width:calc(100% + 80px);}.container.grid-container{max-width:1480px;}.rtl .menu-item-has-children .dropdown-menu-toggle{padding-left:20px;}.rtl .main-navigation .main-nav ul li.menu-item-has-children > a{padding-right:20px;}.site-info{padding:20px;}@media (max-width:768px){.separate-containers .inside-article, .separate-containers .comments-area, .separate-containers .page-header, .separate-containers .paging-navigation, .one-container .site-content, .inside-page-header{padding:30px;}.site-main .wp-block-group__inner-container{padding:30px;}.site-info{padding-right:10px;padding-left:10px;}.entry-content .alignwide, body:not(.no-sidebar) .entry-content .alignfull{margin-left:-30px;width:calc(100% + 60px);max-width:calc(100% + 60px);}}.one-container .sidebar .widget{padding:0px;}/* End cached CSS */@media (max-width:768px){.main-navigation .menu-toggle,.main-navigation .mobile-bar-items,.sidebar-nav-mobile:not(#sticky-placeholder){display:block;}.main-navigation ul,.gen-sidebar-nav{display:none;}[class*="nav-float-"] .site-header .inside-header > *{float:none;clear:both;}}</style>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" title="JSON" type="application/json" href="/wp-json/wp/v2/posts/3102">
<script defer src="https://cloud.umami.is/script.js" data-website-id="b31b5afd-a6bb-4cbc-ad87-f7d58d45fac2"></script>
    <link rel="icon" href="/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-1-120x120.png" sizes="32x32">
<link rel="icon" href="/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-1-300x300.png" sizes="192x192">
<link rel="apple-touch-icon" href="/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-1-300x300.png">
<meta name="msapplication-TileImage" content="/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-1-300x300.png">
		<style id="wp-custom-css">.site-header .header-image {
height: 128px;
width: 91px;
}

.yarpp-related a{
    font-weight:normal !important;
}

.home-column-title {
       word-wrap: normal;
       word-break: keep-all;
	     padding-right: 4em !important;
}

.posted-on .updated {
    display: inline-block;
}

.posted-on .updated + .entry-date {
    display: none;
}

.posted-on .updated:before {
    content: "Last updated on ";
}
.posted-on .published:before {
    content: "Last updated on ";
}

.mako-grid 
{
	display:grid;
	grid-template-columns: 1fr 1fr;
	gap: 34px;
}
@media screen and (max-width: 768px)
{
	.mako-grid{
		display:grid;
		grid-template-columns: 1fr;
		gap: 34px;
	}
}

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  background: #1E1E1E;
  color: #DCDCDC;
}

.hljs-keyword,
.hljs-literal,
.hljs-symbol,
.hljs-name {
  color: #569CD6;
}
.hljs-link {
  color: #569CD6;
  text-decoration: underline;
}

.hljs-built_in,
.hljs-type {
  color: #4EC9B0;
}

.hljs-number,
.hljs-class {
  color: #B8D7A3;
}

.hljs-string,
.hljs-meta-string {
  color: #D69D85;
}

.hljs-regexp,
.hljs-template-tag {
  color: #9A5334;
}

.hljs-subst,
.hljs-function,
.hljs-title,
.hljs-params,
.hljs-formula {
  color: #DCDCDC;
}

.hljs-comment,
.hljs-quote {
  color: #57A64A;
  font-style: italic;
}

.hljs-doctag {
  color: #608B4E;
}

.hljs-meta,
.hljs-meta-keyword,
.hljs-tag {
  color: #9B9B9B;
}

.hljs-variable,
.hljs-template-variable {
  color: #BD63C5;
}

.hljs-attr,
.hljs-attribute,
.hljs-builtin-name {
  color: #9CDCFE;
}

.hljs-section {
  color: gold;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}

.hljs-bullet,
.hljs-selector-tag,
.hljs-selector-id,
.hljs-selector-class,
.hljs-selector-attr,
.hljs-selector-pseudo {
  color: #D7BA7D;
}

.hljs-addition {
  background-color: #144212;
  display: inline-block;
  width: 100%;
}

.hljs-deletion {
  background-color: #600;
  display: inline-block;
  width: 100%;
}</style>
		</head>

<body class="post-template-default single single-post postid-3102 single-format-standard wp-custom-logo wp-embed-responsive right-sidebar nav-float-right one-container fluid-header active-footer-widgets-3 nav-search-enabled header-aligned-left dropdown-hover" itemtype="https://schema.org/Blog" itemscope>
	<a class="screen-reader-text skip-link" href="#content" title="Skip to content">Skip to content</a>		<header class="site-header" id="masthead" aria-label="Site" itemtype="https://schema.org/WPHeader" itemscope>
			<div class="inside-header grid-container grid-parent">
				<div class="site-branding-container">
<div class="site-logo">
					<a href="/" rel="home">
						<img class="header-image is-logo-image" alt="makolyte" src="/wp-content/uploads/2019/12/makolyte-icon-128-e1575419011285.png">
					</a>
				</div>
<div class="site-branding">
						<p class="main-title" itemprop="headline">
					<a href="/" rel="home">
						makolyte
					</a>
				</p>
						<p class="site-description" itemprop="description">
					Solve real coding problems
				</p>
					</div>
</div>		<nav class="main-navigation grid-container grid-parent sub-menu-right" id="site-navigation" aria-label="Primary" itemtype="https://schema.org/SiteNavigationElement" itemscope>
			<div class="inside-navigation grid-container grid-parent">
						<div class="mobile-bar-items">
						<span class="search-item">
				<a aria-label="Open Search Bar" href="#">
					<span class="gp-icon icon-search"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path fill-rule="evenodd" clip-rule="evenodd" d="M208 48c-88.366 0-160 71.634-160 160s71.634 160 160 160 160-71.634 160-160S296.366 48 208 48zM0 208C0 93.125 93.125 0 208 0s208 93.125 208 208c0 48.741-16.765 93.566-44.843 129.024l133.826 134.018c9.366 9.379 9.355 24.575-.025 33.941-9.379 9.366-24.575 9.355-33.941-.025L337.238 370.987C301.747 399.167 256.839 416 208 416 93.125 416 0 322.875 0 208z"></path></svg><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M71.029 71.029c9.373-9.372 24.569-9.372 33.942 0L256 222.059l151.029-151.03c9.373-9.372 24.569-9.372 33.942 0 9.372 9.373 9.372 24.569 0 33.942L289.941 256l151.03 151.029c9.372 9.373 9.372 24.569 0 33.942-9.373 9.372-24.569 9.372-33.942 0L256 289.941l-151.029 151.03c-9.373 9.372-24.569 9.372-33.942 0-9.372-9.373-9.372-24.569 0-33.942L222.059 256 71.029 104.971c-9.372-9.373-9.372-24.569 0-33.942z"></path></svg></span>				</a>
			</span>
		</div>
						<button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">
					<span class="gp-icon icon-menu-bars"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M0 96c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24z"></path></svg><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M71.029 71.029c9.373-9.372 24.569-9.372 33.942 0L256 222.059l151.029-151.03c9.373-9.372 24.569-9.372 33.942 0 9.372 9.373 9.372 24.569 0 33.942L289.941 256l151.03 151.029c9.372 9.373 9.372 24.569 0 33.942-9.373 9.372-24.569 9.372-33.942 0L256 289.941l-151.029 151.03c-9.373 9.372-24.569 9.372-33.942 0-9.372-9.373-9.372-24.569 0-33.942L222.059 256 71.029 104.971c-9.372-9.373-9.372-24.569 0-33.942z"></path></svg></span><span class="mobile-menu">Menu</span>				</button>
				<div id="primary-menu" class="main-nav"><ul id="menu-primary-menu" class=" menu sf-menu">
<li id="menu-item-15" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15"><a href="/about/">About</a></li>
<li id="menu-item-305" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-305"><a href="/category/csharp/">C#</a></li>
<li id="menu-item-185" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-185"><a href="/category/sql/">SQL</a></li>

</ul></div>			</div>
		</nav>
					</div>
		</header>
		
	<div class="site grid-container container hfeed grid-parent" id="page">
				<div class="site-content" id="content">
			
	<div class="content-area grid-parent mobile-grid-100 grid-75 tablet-grid-75" id="primary">
		<main class="site-main" id="main">
			
<article id="post-3102" class="post-3102 post type-post status-publish format-standard hentry category-java tag-aws tag-spring" itemtype="https://schema.org/CreativeWork" itemscope>
	<div class="inside-article">
					<header class="entry-header" aria-label="Content">
				<h1 class="entry-title" itemprop="headline">Send messages to an Amazon SNS topic using Spring Boot</h1>		<div class="entry-meta">
			<span class="posted-on"><time class="updated" datetime="2024-05-19T11:02:22-04:00" itemprop="dateModified">05/19/2024</time><time class="entry-date published" datetime="2021-02-27T13:12:55-05:00" itemprop="datePublished">02/27/2021</time></span> <span class="byline">by <span class="author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope><a class="url fn n" href="/about/" title="Get to know more about Yasmin" rel="author" itemprop="url"><span class="author-name" itemprop="name">Yasmin</span></a></span></span> 		</div>
					</header>
			
		<div class="entry-content" itemprop="text">
			
<p>In this article we create an Amazon Simple Notification Service (Amazon SNS) topic and subscribe to it.  Then we build a Spring Boot app that receives and publishes messages to the topic. </p>



<p>Amazon SNS provides message delivery from publishers to subscribers using the pub/sub pattern.  Subscribers can be other applications, for example, an Amazon SQS queue, AWS lambda function, or HTTPS endpoint.  A subscriber can also be a person, receiving messages through text messages, push notifications to their mobile device, or email.</p>



<div id="ez-toc-container" class="ez-toc-v2_0_17_1 counter-hierarchy counter-decimal ez-toc-grey">
<div class="ez-toc-title-container">
<p class="ez-toc-title">Table of Contents</p>
<span class="ez-toc-title-toggle"></span>
</div>
<nav><ul class="ez-toc-list ez-toc-list-level-1">
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-1" href="#Create_a_topic" title="Create a topic">Create a topic</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-2" href="#Add_a_subscription_to_the_topic" title="Add a subscription to the topic">Add a subscription to the topic</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-3" href="#Set_up_project_dependencies" title="Set up project dependencies">Set up project dependencies</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-4" href="#Connect_the_application_to_AWS" title="Connect the application to AWS">Connect the application to AWS</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-5" href="#Set_up_application_properties" title="Set up application properties">Set up application properties</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-6" href="#Configure_the_SNS_Client" title="Configure the SNS Client">Configure the SNS Client</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-7" href="#Build_a_message_with_message_attributes" title="Build a message with message attributes">Build a message with message attributes</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-8" href="#Publish_a_message" title="Publish a message">Publish a message</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-9" href="#Send_a_message_using_Postman" title="Send a message using Postman">Send a message using Postman</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-10" href="#Sample_code" title="Sample code">Sample code</a></li>
</ul></nav>
</div>
<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Create_a_topic"></span>Create a topic<span class="ez-toc-section-end"></span>
</h2>



<ol class="wp-block-list">
<li>
<span style="font-size: inherit; background-color: initial;">From the Amazon SNS Dashboard, select </span><strong style="font-size: inherit; background-color: initial;">Topics</strong><span style="font-size: inherit; background-color: initial;">, then </span><strong style="font-size: inherit; background-color: initial;">Create Topic</strong><span style="font-size: inherit; background-color: initial;">.</span>
</li>
<li>Under Type, select <strong>Standard</strong>.</li>
<li>Enter a name for the topic.</li>
<li>Click <strong>Create Topic</strong>.</li>
</ol>



<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Add_a_subscription_to_the_topic"></span>Add a subscription to the topic<span class="ez-toc-section-end"></span>
</h2>



<p>Subscribe to the topic, so you&#8217;re notified when a message is published.</p>



<ol class="wp-block-list" id="block-9f302c4a-4294-45ec-8eaf-5dd1e3ea67d0">
<li>From the Amazon SNS Dashboard, select <strong>Subscriptions</strong>, then <strong>Create Subscription</strong>.</li>
<li>Select the topic just created.</li>
<li>Select <strong>Email-JSON</strong> for protocol.</li>
<li>Enter an email address.</li>
<li>Click <strong>Create Subscription</strong>.</li>
<li>Confirm the subscription by clicking on the Subscribe URL in the confirmation email sent by AWS.</li>
</ol>



<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Set_up_project_dependencies"></span>Set up project dependencies<span class="ez-toc-section-end"></span>
</h2>



<p>Generate a sample project using <a rel="noreferrer noopener" href="https://start.spring.io/" target="_blank">Spring Initializr</a> (select Spring Web and Validation as dependencies).</p>



<p>In the pom.xml, add the BOM for AWS SDK for Java 2.x and a dependency for the SNS service.</p>


<pre class="wp-block-code" aria-describedby="shcb-language-1" data-shcb-language-name="HTML, XML" data-shcb-language-slug="xml"><span><code class="hljs language-xml shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-tag">&lt;<span class="hljs-name">dependencyManagement</span>&gt;</span>
</span></span><span class="shcb-loc"><span>   <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
</span></span><span class="shcb-loc"><span>      <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
</span></span><mark class="shcb-loc"><span>         <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>software.amazon.awssdk<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
</span></mark><mark class="shcb-loc"><span>         <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>bom<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
</span></mark><mark class="shcb-loc"><span>         <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.15.56<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
</span></mark><mark class="shcb-loc"><span>         <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span>
</span></mark><mark class="shcb-loc"><span>         <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>import<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
</span></mark><span class="shcb-loc"><span>      <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</span></span><span class="shcb-loc"><span>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</span></span><span class="shcb-loc"><span><span class="hljs-tag">&lt;/<span class="hljs-name">dependencyManagement</span>&gt;</span>
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
</span></span><span class="shcb-loc"><span>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
</span></span><span class="shcb-loc"><span>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
</span></span><span class="shcb-loc"><span>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
</span></span><span class="shcb-loc"><span>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
</span></span><span class="shcb-loc"><span>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
</span></span><span class="shcb-loc"><span>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-validation<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
</span></span><span class="shcb-loc"><span>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
</span></span><mark class="shcb-loc"><span>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>software.amazon.awssdk<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
</span></mark><mark class="shcb-loc"><span>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>sns<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
</span></mark><span class="shcb-loc"><span>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</span></span><span class="shcb-loc"><span><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</span></span></code></span><small class="shcb-language" id="shcb-language-1"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">HTML, XML</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">xml</span><span class="shcb-language__paren">)</span></small></pre>


<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Connect_the_application_to_AWS"></span>Connect the application to AWS<span class="ez-toc-section-end"></span>
</h2>



<p>We need to set up an AWS access key and secret key in the Java system properties, so the app is able to connect to AWS. One way to accomplish this is to set up an application listener.</p>


<pre class="wp-block-code" aria-describedby="shcb-language-2" data-shcb-language-name="Java" data-shcb-language-slug="java"><span><code class="hljs language-java shcb-code-table shcb-line-numbers shcb-wrap-lines"><span class="shcb-loc"><span><span class="hljs-keyword">package</span> com.makolyte.springsnsstarter.config;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.springframework.boot.context.event.ApplicationEnvironmentPreparedEvent;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.springframework.context.ApplicationListener;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppListener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">ApplicationListener</span>&lt;<span class="hljs-title">ApplicationEnvironmentPreparedEvent</span>&gt; </span>{
</span></span><span class="shcb-loc"><span>    <span class="hljs-meta">@Override</span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onApplicationEvent</span><span class="hljs-params">(ApplicationEnvironmentPreparedEvent applicationEnvironmentPreparedEvent)</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-comment">// Add AWS access key and secret key to Java system properties as soon as the environment is available</span>
</span></span><span class="shcb-loc"><span>        System.setProperty(<span class="hljs-string">"aws.accessKeyId"</span>, <span class="hljs-string">"your_access_key"</span>);
</span></span><span class="shcb-loc"><span>        System.setProperty(<span class="hljs-string">"aws.secretAccessKey"</span>, <span class="hljs-string">"your_secret_key"</span>);
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-2"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Java</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">java</span><span class="shcb-language__paren">)</span></small></pre>


<p>The application listener must be added to the application.</p>


<pre class="wp-block-code" aria-describedby="shcb-language-3" data-shcb-language-name="Java" data-shcb-language-slug="java"><span><code class="hljs language-java shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">package</span> com.makolyte.springsnsstarter;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> com.makolyte.springsnsstarter.config.AppListener;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-meta">@SpringBootApplication</span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SpringSnsStarterApplication</span> </span>{
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String&#91;] args)</span> </span>{
</span></span><span class="shcb-loc"><span>        SpringApplication app = <span class="hljs-keyword">new</span> SpringApplication(SpringSnsStarterApplication<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;
</span></span><span class="shcb-loc"><span>        app.addListeners(<span class="hljs-keyword">new</span> AppListener());
</span></span><span class="shcb-loc"><span>        app.run(args);
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>}
</span></span><span class="shcb-loc"><span>
</span></span></code></span><small class="shcb-language" id="shcb-language-3"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Java</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">java</span><span class="shcb-language__paren">)</span></small></pre>


<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Set_up_application_properties"></span>Set up application properties<span class="ez-toc-section-end"></span>
</h2>



<p>Include the following properties in application.properties.  Update the values with those applicable to your setup. </p>


<pre class="wp-block-code" aria-describedby="shcb-language-4" data-shcb-language-name="Properties" data-shcb-language-slug="properties"><span><code class="hljs language-properties shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-comment">### AWS ###</span>
</span></span><span class="shcb-loc"><span><span class="hljs-meta">aws.sns.region</span>=<span class="hljs-string">your_sns_region</span>
</span></span><span class="shcb-loc"><span><span class="hljs-meta">aws.sns.topicArn</span>=<span class="hljs-string">your_topic_arn</span>
</span></span></code></span><small class="shcb-language" id="shcb-language-4"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Properties</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">properties</span><span class="shcb-language__paren">)</span></small></pre>


<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Configure_the_SNS_Client"></span>Configure the SNS Client<span class="ez-toc-section-end"></span>
</h2>



<p>We need to configure the SNS Client that will publish messages to the topic.  </p>



<p>First, create a class that reads the AWS SNS properties from the properties file. </p>


<pre class="wp-block-code" aria-describedby="shcb-language-5" data-shcb-language-name="Java" data-shcb-language-slug="java"><span><code class="hljs language-java shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">package</span> com.makolyte.springsnsstarter.config;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> javax.validation.constraints.NotNull;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-meta">@Configuration</span>
</span></span><span class="shcb-loc"><span><span class="hljs-meta">@ConfigurationProperties</span>(prefix = <span class="hljs-string">"aws.sns"</span>)
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AwsProperties</span> </span>{
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-meta">@NotNull</span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> String region;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-meta">@NotNull</span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> String topicArn;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getRegion</span><span class="hljs-params">()</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> region;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setRegion</span><span class="hljs-params">(String region)</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">this</span>.region = region;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getTopicArn</span><span class="hljs-params">()</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> topicArn;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setTopicArn</span><span class="hljs-params">(String topicArn)</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">this</span>.topicArn = topicArn;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>}
</span></span><span class="shcb-loc"><span>
</span></span></code></span><small class="shcb-language" id="shcb-language-5"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Java</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">java</span><span class="shcb-language__paren">)</span></small></pre>


<p>Then, configure an SNS Client with the appropriate region.</p>


<pre class="wp-block-code" aria-describedby="shcb-language-6" data-shcb-language-name="Java" data-shcb-language-slug="java"><span><code class="hljs language-java shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">package</span> com.makolyte.springsnsstarter.config;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> software.amazon.awssdk.regions.Region;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> software.amazon.awssdk.services.sns.SnsClient;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-meta">@Configuration</span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SnsConfig</span> </span>{
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-meta">@Autowired</span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> AwsProperties awsProperties;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-meta">@Bean</span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> SnsClient <span class="hljs-title">snsClient</span><span class="hljs-params">()</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> SnsClient.builder()
</span></span><span class="shcb-loc"><span>                .region(Region.of(awsProperties.getRegion()))
</span></span><span class="shcb-loc"><span>                .build();
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>}
</span></span><span class="shcb-loc"><span>
</span></span></code></span><small class="shcb-language" id="shcb-language-6"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Java</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">java</span><span class="shcb-language__paren">)</span></small></pre>


<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Build_a_message_with_message_attributes"></span>Build a message with message attributes<span class="ez-toc-section-end"></span>
</h2>



<p>Let&#8217;s say topic subscribers are interested in being notified when prices for certain goods go up or down.  Create this Message class to define the properties the subscribers are interested in. </p>


<pre class="wp-block-code" aria-describedby="shcb-language-7" data-shcb-language-name="Java" data-shcb-language-slug="java"><span><code class="hljs language-java shcb-code-table shcb-line-numbers shcb-wrap-lines"><span class="shcb-loc"><span><span class="hljs-keyword">package</span> com.makolyte.springsnsstarter.model;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> java.math.BigDecimal;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Message</span> </span>{
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> String category;
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> String productName;
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> EventType eventType;
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> String seller;
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> BigDecimal newPrice;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Message</span><span class="hljs-params">()</span> </span>{}
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Message</span><span class="hljs-params">(String category, String productName, EventType eventType, String seller, BigDecimal newPrice)</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">this</span>.category = category;
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">this</span>.productName = productName;
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">this</span>.eventType = eventType;
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">this</span>.seller = seller;
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">this</span>.newPrice = newPrice;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getCategory</span><span class="hljs-params">()</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> category;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getProductName</span><span class="hljs-params">()</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> productName;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> EventType <span class="hljs-title">getEventType</span><span class="hljs-params">()</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> eventType;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getSeller</span><span class="hljs-params">()</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> seller;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> BigDecimal <span class="hljs-title">getNewPrice</span><span class="hljs-params">()</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> newPrice;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>}
</span></span><span class="shcb-loc"><span>
</span></span></code></span><small class="shcb-language" id="shcb-language-7"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Java</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">java</span><span class="shcb-language__paren">)</span></small></pre>

<pre class="wp-block-code" aria-describedby="shcb-language-8" data-shcb-language-name="Java" data-shcb-language-slug="java"><span><code class="hljs language-java shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">package</span> com.makolyte.springsnsstarter.model;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> EventType {
</span></span><span class="shcb-loc"><span>    DROP, INCREASE
</span></span><span class="shcb-loc"><span>}
</span></span><span class="shcb-loc"><span>
</span></span></code></span><small class="shcb-language" id="shcb-language-8"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Java</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">java</span><span class="shcb-language__paren">)</span></small></pre>


<p>Next, create a builder that takes a message and builds an Amazon PublishRequest.</p>


<pre class="wp-block-code" aria-describedby="shcb-language-9" data-shcb-language-name="Java" data-shcb-language-slug="java"><span><code class="hljs language-java shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">package</span> com.makolyte.springsnsstarter.model;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> software.amazon.awssdk.services.sns.model.MessageAttributeValue;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> software.amazon.awssdk.services.sns.model.PublishRequest;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> java.util.HashMap;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> java.util.Map;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RequestBuilder</span> </span>{
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String CATEGORY = <span class="hljs-string">"Category"</span>;
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String PRODUCT_NAME = <span class="hljs-string">"ProductName"</span>;
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String EVENT_TYPE = <span class="hljs-string">"EventType"</span>;
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String SELLER = <span class="hljs-string">"Seller"</span>;
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String NEW_PRICE = <span class="hljs-string">"NewPrice"</span>;
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String DEFAULT_MESSAGE_BODY = <span class="hljs-string">"Please see attributes."</span>;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> PublishRequest <span class="hljs-title">build</span><span class="hljs-params">(String topicArn, Message message)</span> </span>{
</span></span><span class="shcb-loc"><span>        Map&lt;String, MessageAttributeValue&gt; attributes = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();
</span></span><span class="shcb-loc"><span>        attributes.put(CATEGORY, buildAttribute(message.getCategory(), <span class="hljs-string">"String"</span>));
</span></span><span class="shcb-loc"><span>        attributes.put(PRODUCT_NAME, buildAttribute(message.getProductName(), <span class="hljs-string">"String"</span>));
</span></span><span class="shcb-loc"><span>        attributes.put(EVENT_TYPE, buildAttribute(message.getEventType().toString(), <span class="hljs-string">"String"</span>));
</span></span><span class="shcb-loc"><span>        attributes.put(SELLER, buildAttribute(message.getSeller(), <span class="hljs-string">"String"</span>));
</span></span><span class="shcb-loc"><span>        attributes.put(NEW_PRICE, buildAttribute(message.getNewPrice().toString(), <span class="hljs-string">"Number"</span>));
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>        PublishRequest request = PublishRequest.builder()
</span></span><span class="shcb-loc"><span>                .topicArn(topicArn)
</span></span><span class="shcb-loc"><span>                .message(DEFAULT_MESSAGE_BODY)
</span></span><span class="shcb-loc"><span>                .messageAttributes(attributes)
</span></span><span class="shcb-loc"><span>                .build();
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> request;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> MessageAttributeValue <span class="hljs-title">buildAttribute</span><span class="hljs-params">(String value, String dataType)</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> MessageAttributeValue.builder()
</span></span><span class="shcb-loc"><span>                .dataType(dataType)
</span></span><span class="shcb-loc"><span>                .stringValue(value)
</span></span><span class="shcb-loc"><span>                .build();
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>}
</span></span><span class="shcb-loc"><span>
</span></span></code></span><small class="shcb-language" id="shcb-language-9"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Java</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">java</span><span class="shcb-language__paren">)</span></small></pre>


<p>The message uses <a rel="noreferrer noopener" href="https://docs.aws.amazon.com/sns/latest/dg/sns-message-attributes.html" target="_blank">Amazon SNS message attributes</a>.  A benefit of sending the information using message attributes is that subscribers can filter their subscription by any of the attributes so that they only receive events they&#8217;re interested in.</p>



<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Publish_a_message"></span>Publish a message<span class="ez-toc-section-end"></span>
</h2>



<p>Create an endpoint to publish a message to the topic.  The endpoint returns the status code, message, and message ID returned by Amazon SNS.  The message ID is a unique identifier assigned to a published message.  If an exception occurs, the endpoint returns any status code and error message returned by Amazon SNS.  </p>


<pre class="wp-block-code" aria-describedby="shcb-language-10" data-shcb-language-name="Java" data-shcb-language-slug="java"><span><code class="hljs language-java shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">package</span> com.makolyte.springsnsstarter.controller;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> com.makolyte.springsnsstarter.model.Message;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> com.makolyte.springsnsstarter.model.SnsResponse;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> com.makolyte.springsnsstarter.service.MessagePublisher;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.springframework.http.HttpStatus;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-meta">@RestController</span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessageController</span> </span>{
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> MessagePublisher messagePublisher;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MessageController</span><span class="hljs-params">(MessagePublisher messagePublisher)</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">this</span>.messagePublisher = messagePublisher;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-meta">@PostMapping</span>(value = <span class="hljs-string">"/publish"</span>)
</span></span><span class="shcb-loc"><span>    <span class="hljs-meta">@ResponseStatus</span>(HttpStatus.CREATED)
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> SnsResponse <span class="hljs-title">publishMessage</span><span class="hljs-params">(@RequestBody Message message)</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> messagePublisher.publish(message);
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-meta">@ResponseStatus</span>(HttpStatus.INTERNAL_SERVER_ERROR)
</span></span><span class="shcb-loc"><span>    <span class="hljs-meta">@ExceptionHandler</span>(RuntimeException<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>
</span></span><span class="shcb-loc"><span><span class="hljs-class">    <span class="hljs-title">private</span> <span class="hljs-title">String</span> <span class="hljs-title">handleException</span>(<span class="hljs-title">RuntimeException</span> <span class="hljs-title">e</span>) </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> e.getMessage();
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>}
</span></span><span class="shcb-loc"><span>
</span></span></code></span><small class="shcb-language" id="shcb-language-10"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Java</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">java</span><span class="shcb-language__paren">)</span></small></pre>

<pre class="wp-block-code" aria-describedby="shcb-language-11" data-shcb-language-name="Java" data-shcb-language-slug="java"><span><code class="hljs language-java shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">package</span> com.makolyte.springsnsstarter.model;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SnsResponse</span> </span>{
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> Integer statusCode;
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> String message;
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> String publishedMessageId;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SnsResponse</span><span class="hljs-params">(Integer statusCode, String message, String publishedMessageId)</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">this</span>.statusCode = statusCode;
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">this</span>.message = message;
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">this</span>.publishedMessageId = publishedMessageId;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">getStatusCode</span><span class="hljs-params">()</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> statusCode;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getMessage</span><span class="hljs-params">()</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> message;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getPublishedMessageId</span><span class="hljs-params">()</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> publishedMessageId;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-meta">@Override</span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> <span class="hljs-string">"SnsResponse{"</span> +
</span></span><span class="shcb-loc"><span>                <span class="hljs-string">"statusCode="</span> + statusCode +
</span></span><span class="shcb-loc"><span>                <span class="hljs-string">", message='"</span> + message + <span class="hljs-string">'\''</span> +
</span></span><span class="shcb-loc"><span>                <span class="hljs-string">", publishedMessageId='"</span> + publishedMessageId + <span class="hljs-string">'\''</span> +
</span></span><span class="shcb-loc"><span>                <span class="hljs-string">'}'</span>;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>}
</span></span><span class="shcb-loc"><span>
</span></span></code></span><small class="shcb-language" id="shcb-language-11"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Java</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">java</span><span class="shcb-language__paren">)</span></small></pre>


<p>Next, convert the message to an Amazon PublishRequest and publish it.  For more information refer to the <a rel="noreferrer noopener" href="https://docs.aws.amazon.com/sns/latest/api/API_Publish.html" target="_blank">Publish API documentation</a>.</p>


<pre class="wp-block-code" aria-describedby="shcb-language-12" data-shcb-language-name="Java" data-shcb-language-slug="java"><span><code class="hljs language-java shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">package</span> com.makolyte.springsnsstarter.service;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> com.makolyte.springsnsstarter.model.Message;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> com.makolyte.springsnsstarter.model.SnsResponse;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MessagePublisher</span> </span>{
</span></span><span class="shcb-loc"><span>    <span class="hljs-function">SnsResponse <span class="hljs-title">publish</span><span class="hljs-params">(Message message)</span></span>;
</span></span><span class="shcb-loc"><span>}
</span></span><span class="shcb-loc"><span>
</span></span></code></span><small class="shcb-language" id="shcb-language-12"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Java</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">java</span><span class="shcb-language__paren">)</span></small></pre>

<pre class="wp-block-code" aria-describedby="shcb-language-13" data-shcb-language-name="Java" data-shcb-language-slug="java"><span><code class="hljs language-java shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">package</span> com.makolyte.springsnsstarter.service;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> com.makolyte.springsnsstarter.config.AwsProperties;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> com.makolyte.springsnsstarter.model.Message;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> com.makolyte.springsnsstarter.model.RequestBuilder;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> com.makolyte.springsnsstarter.model.SnsResponse;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.slf4j.Logger;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> software.amazon.awssdk.core.exception.SdkClientException;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> software.amazon.awssdk.core.exception.SdkException;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> software.amazon.awssdk.core.exception.SdkServiceException;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> software.amazon.awssdk.http.SdkHttpResponse;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> software.amazon.awssdk.services.sns.SnsClient;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> software.amazon.awssdk.services.sns.model.PublishRequest;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> software.amazon.awssdk.services.sns.model.PublishResponse;
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">import</span> software.amazon.awssdk.services.sns.model.SnsException;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-meta">@Service</span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessagePublisherImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">MessagePublisher</span> </span>{
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> Logger LOG = LoggerFactory.getLogger(MessagePublisherImpl<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SnsClient snsClient;
</span></span><span class="shcb-loc"><span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> AwsProperties awsProperties;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MessagePublisherImpl</span><span class="hljs-params">(SnsClient snsClient, AwsProperties awsProperties)</span> </span>{
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">this</span>.snsClient = snsClient;
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">this</span>.awsProperties = awsProperties;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-meta">@Override</span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> SnsResponse <span class="hljs-title">publish</span><span class="hljs-params">(Message message)</span> </span>{
</span></span><span class="shcb-loc"><span>        SnsResponse response = <span class="hljs-keyword">null</span>;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">try</span> {
</span></span><span class="shcb-loc"><span>            PublishRequest request = RequestBuilder.build(awsProperties.getTopicArn(), message);
</span></span><span class="shcb-loc"><span>            LOG.info(<span class="hljs-string">"Request: {}"</span>, request);
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>            PublishResponse publishResponse = snsClient.publish(request);
</span></span><span class="shcb-loc"><span>            LOG.info(<span class="hljs-string">"Publish response: {}"</span>, publishResponse);
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>            SdkHttpResponse httpResponse = publishResponse.sdkHttpResponse();
</span></span><span class="shcb-loc"><span>            response = <span class="hljs-keyword">new</span> SnsResponse(
</span></span><span class="shcb-loc"><span>                    httpResponse.statusCode(),
</span></span><span class="shcb-loc"><span>                    httpResponse.statusText().orElse(<span class="hljs-keyword">null</span>),
</span></span><span class="shcb-loc"><span>                    publishResponse.messageId());
</span></span><span class="shcb-loc"><span>            LOG.info(<span class="hljs-string">"Response details: {}"</span>, response);
</span></span><span class="shcb-loc"><span>        } <span class="hljs-keyword">catch</span> (SnsException e) {
</span></span><span class="shcb-loc"><span>            rethrow(e.statusCode(), e.getClass().getSimpleName() + <span class="hljs-string">": "</span> + e.awsErrorDetails());
</span></span><span class="shcb-loc"><span>        } <span class="hljs-keyword">catch</span> (SdkServiceException e) {
</span></span><span class="shcb-loc"><span>            rethrow(e.statusCode(), e.getClass().getSimpleName() + <span class="hljs-string">": "</span> + e.getMessage());
</span></span><span class="shcb-loc"><span>        } <span class="hljs-keyword">catch</span> (SdkClientException e) {
</span></span><span class="shcb-loc"><span>            rethrow(<span class="hljs-keyword">null</span>, e.getClass().getSimpleName() + <span class="hljs-string">": "</span> + e.getMessage());
</span></span><span class="shcb-loc"><span>        } <span class="hljs-keyword">catch</span> (SdkException e) {
</span></span><span class="shcb-loc"><span>            rethrow(<span class="hljs-keyword">null</span>, e.getClass().getSimpleName() + <span class="hljs-string">": "</span> + e.getMessage());
</span></span><span class="shcb-loc"><span>        }
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">return</span> response;
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rethrow</span><span class="hljs-params">(Integer statusCode, String detailedMessage)</span> </span>{
</span></span><span class="shcb-loc"><span>        SnsResponse response = <span class="hljs-keyword">new</span> SnsResponse(statusCode, detailedMessage, <span class="hljs-keyword">null</span>);
</span></span><span class="shcb-loc"><span>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(response.toString());
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>}
</span></span><span class="shcb-loc"><span>
</span></span></code></span><small class="shcb-language" id="shcb-language-13"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Java</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">java</span><span class="shcb-language__paren">)</span></small></pre>


<p>The code handles different types of exceptions that could be thrown by Amazon SNS; SdkException is a catch all for the other exceptions.  To learn more, refer to the <a rel="noreferrer noopener" href="https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/handling-exceptions.html" target="_blank">Exception handling</a> section of the AWS Developer Guide and the <a rel="noreferrer noopener" href="https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/sns/SnsClient.html#publish-software.amazon.awssdk.services.sns.model.PublishRequest-" target="_blank">SnsClient javadoc</a>. </p>



<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Send_a_message_using_Postman"></span>Send a message using Postman<span class="ez-toc-section-end"></span>
</h2>



<p>Run the app and send a message to the publish endpoint.  The following example uses Postman.</p>



<p>In Postman, enter the following information, then click Send.</p>



<ul class="wp-block-list">
<li>Method type: POST</li>
<li>URL: http://localhost:8080/publish</li>
<li>Message Body:</li>
</ul>


<pre class="wp-block-code" aria-describedby="shcb-language-14" data-shcb-language-name="JSON / JSON with Comments" data-shcb-language-slug="json"><span><code class="hljs language-json shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>    <span class="hljs-attr">"category"</span>: <span class="hljs-string">"Snow Removal"</span>,
</span></span><span class="shcb-loc"><span>    <span class="hljs-attr">"productName"</span>: <span class="hljs-string">"Safe Paw35 lb. Coated Non-Salt Ice Melt"</span>,
</span></span><span class="shcb-loc"><span>    <span class="hljs-attr">"eventType"</span>: <span class="hljs-string">"INCREASE"</span>,
</span></span><span class="shcb-loc"><span>    <span class="hljs-attr">"seller"</span>: <span class="hljs-string">"Home Depot"</span>,
</span></span><span class="shcb-loc"><span>    <span class="hljs-attr">"newPrice"</span>: <span class="hljs-string">"64.99"</span>
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-14"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">JSON / JSON with Comments</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">json</span><span class="shcb-language__paren">)</span></small></pre>


<figure class="wp-block-image size-large"><img fetchpriority="high" decoding="async" width="637" height="556" src="/wp-content/uploads/2021/02/postman-publish-sns-2.png" alt="Sending a message to SNS with a Postman request" class="wp-image-4188" srcset="/wp-content/uploads/2021/02/postman-publish-sns-2.png 637w, /wp-content/uploads/2021/02/postman-publish-sns-2-300x262.png 300w" sizes="(max-width: 637px) 100vw, 637px"></figure>



<p>The response body shows that Amazon SNS returned a 200 status code with the message &#8220;OK&#8221; and a message ID, which confirms the message was published successfully.</p>



<p>Check the email that was previously subscribed to the topic and there should be a notification from AWS.</p>



<figure class="wp-block-image size-large"><img decoding="async" width="673" height="482" src="/wp-content/uploads/2021/02/aws-notification-sns-1.png" alt="aws-notification-email" class="wp-image-4239" srcset="/wp-content/uploads/2021/02/aws-notification-sns-1.png 673w, /wp-content/uploads/2021/02/aws-notification-sns-1-300x215.png 300w" sizes="(max-width: 673px) 100vw, 673px"></figure>



<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Sample_code"></span>Sample code<span class="ez-toc-section-end"></span>
</h2>



<p>The entire app can be found on <a href="https://github.com/makolyte/spring-sns" target="_blank" rel="noreferrer noopener">GitHub</a>.</p>
<div class="related_content" style="clear:both;">
<h3 class="widget-title">Related Articles</h3>
									<ul class="related-posts">
										<li class="related-post">
											<a href="/create-a-queue-in-amazon-sqs/">Create a queue in Amazon SQS</a>
										</li>
										<li class="related-post">
											<a href="/set-up-a-spring-boot-app-with-amazon-sqs/">Set up a Spring Boot app with Amazon SQS</a>
										</li>
										<li class="related-post">
											<a href="/send-messages-to-an-amazon-sqs-queue-using-spring-boot/">Send messages to an Amazon SQS queue using Spring Boot</a>
										</li>
										<li class="related-post">
											<a href="/receive-messages-from-an-amazon-sqs-queue-using-spring-boot/">Receive messages from an Amazon SQS queue using Spring Boot</a>
										</li>
									</ul>
									<div style="clear:both;"></div>
</div>
							</div>

				<footer class="entry-meta" aria-label="Entry meta">
			<span class="cat-links"><span class="gp-icon icon-categories"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M0 112c0-26.51 21.49-48 48-48h110.014a48 48 0 0143.592 27.907l12.349 26.791A16 16 0 00228.486 128H464c26.51 0 48 21.49 48 48v224c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112z"></path></svg></span><span class="screen-reader-text">Categories </span><a href="/category/java/" rel="category tag">Java</a></span> <span class="tags-links"><span class="gp-icon icon-tags"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M20 39.5c-8.836 0-16 7.163-16 16v176c0 4.243 1.686 8.313 4.687 11.314l224 224c6.248 6.248 16.378 6.248 22.626 0l176-176c6.244-6.244 6.25-16.364.013-22.615l-223.5-224A15.999 15.999 0 00196.5 39.5H20zm56 96c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24z"></path><path d="M259.515 43.015c4.686-4.687 12.284-4.687 16.97 0l228 228c4.686 4.686 4.686 12.284 0 16.97l-180 180c-4.686 4.687-12.284 4.687-16.97 0-4.686-4.686-4.686-12.284 0-16.97L479.029 279.5 259.515 59.985c-4.686-4.686-4.686-12.284 0-16.97z"></path></svg></span><span class="screen-reader-text">Tags </span><a href="/tag/aws/" rel="tag">aws</a>, <a href="/tag/spring/" rel="tag">spring</a></span> 		<nav id="nav-below" class="post-navigation" aria-label="Posts">
			<div class="nav-previous">
<span class="gp-icon icon-arrow-left"><svg viewbox="0 0 192 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M178.425 138.212c0 2.265-1.133 4.813-2.832 6.512L64.276 256.001l111.317 111.277c1.7 1.7 2.832 4.247 2.832 6.513 0 2.265-1.133 4.813-2.832 6.512L161.43 394.46c-1.7 1.7-4.249 2.832-6.514 2.832-2.266 0-4.816-1.133-6.515-2.832L16.407 262.514c-1.699-1.7-2.832-4.248-2.832-6.513 0-2.265 1.133-4.813 2.832-6.512l131.994-131.947c1.7-1.699 4.249-2.831 6.515-2.831 2.265 0 4.815 1.132 6.514 2.831l14.163 14.157c1.7 1.7 2.832 3.965 2.832 6.513z" fill-rule="nonzero"></path></svg></span><span class="prev"><a href="/csharp-the-nameof-operator/" rel="prev">C# &#8211; The nameof() operator</a></span>
</div>
<div class="nav-next">
<span class="gp-icon icon-arrow-right"><svg viewbox="0 0 192 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M178.425 256.001c0 2.266-1.133 4.815-2.832 6.515L43.599 394.509c-1.7 1.7-4.248 2.833-6.514 2.833s-4.816-1.133-6.515-2.833l-14.163-14.162c-1.699-1.7-2.832-3.966-2.832-6.515 0-2.266 1.133-4.815 2.832-6.515l111.317-111.316L16.407 144.685c-1.699-1.7-2.832-4.249-2.832-6.515s1.133-4.815 2.832-6.515l14.163-14.162c1.7-1.7 4.249-2.833 6.515-2.833s4.815 1.133 6.514 2.833l131.994 131.993c1.7 1.7 2.832 4.249 2.832 6.515z" fill-rule="nonzero"></path></svg></span><span class="next"><a href="/adding-your-own-feature-flags-in-asp-dot-net/" rel="next">Feature flags in ASP.NET Core</a></span>
</div>		</nav>
				</footer>
			</div>
</article>

			<div class="comments-area">
				<div id="comments">

	<h3 class="comments-title">2 thoughts on &ldquo;Send messages to an Amazon SNS topic using Spring Boot&rdquo;</h3>
		<ol class="comment-list">
			
		<li id="comment-55297" class="comment even thread-even depth-1 parent">
			<article class="comment-body" id="div-comment-55297" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Taona</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/send-messages-to-an-amazon-sns-topic-using-spring-boot/#comment-55297">									<time datetime="2023-09-13T01:38:37-04:00" itemprop="datePublished">
										09/13/2023 at 1:38 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Thank you for the great tutorial. I greatly appreciate you sharing this.</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-55301" class="comment byuser comment-author-yasmin bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-55301" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Yasmin</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/send-messages-to-an-amazon-sns-topic-using-spring-boot/#comment-55301">									<time datetime="2023-09-13T07:56:33-04:00" itemprop="datePublished">
										09/13/2023 at 7:56 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>You&#8217;re welcome, I&#8217;m glad this helped!</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->
		</ol>
<!-- .comment-list -->

			
	
</div>
<!-- #comments -->
			</div>

					</main>
	</div>

	<div class="widget-area sidebar is-right-sidebar grid-25 tablet-grid-25 grid-parent" id="right-sidebar">
	<div class="inside-right-sidebar">
		<aside id="block-19" class="widget inner-padding widget_block"><div></div></aside>	</div>
</div>

	</div>
</div>


<div class="site-footer footer-bar-active footer-bar-align-right">
			<footer class="site-info" aria-label="Site" itemtype="https://schema.org/WPFooter" itemscope>
			<div class="inside-site-info grid-container grid-parent">
						<div class="footer-bar">
			<aside id="block-11" class="widget inner-padding widget_block"></aside><aside id="block-7" class="widget inner-padding widget_block"><a href="/about/">About</a> ‚Ä¢ <a href="/privacy-policy/">Privacy Policy</a></aside>		</div>
						<div class="copyright-bar">
					<span class="copyright">&copy; 2025 makolyte</span></div>
			</div>
		</footer>
		</div>

<script id="generate-a11y">!function(){"use strict";if("querySelector"in document&&"addEventListener"in window){var e=document.body;e.addEventListener("mousedown",function(){e.classList.add("using-mouse")}),e.addEventListener("keydown",function(){e.classList.remove("using-mouse")})}}();</script><!--[if lte IE 11]>
<script src="/wp-content/themes/generatepress/assets/js/classList.min.js?ver=3.3.1" id="generate-classlist-js"></script>
<![endif]-->
<script id="generate-menu-js-extra">var generatepressMenu = {"toggleOpenedSubMenus":"1","openSubMenuLabel":"Open Sub-Menu","closeSubMenuLabel":"Close Sub-Menu"};</script>
<script src="/wp-content/themes/generatepress/assets/js/menu.min.js?ver=3.3.1" id="generate-menu-js"></script>
<script id="generate-navigation-search-js-extra">var generatepressNavSearch = {"open":"Open Search Bar","close":"Close Search Bar"};</script>
<script src="/wp-content/themes/generatepress/assets/js/navigation-search.min.js?ver=3.3.1" id="generate-navigation-search-js"></script>
<script src="/wp-includes/js/comment-reply.min.js?ver=6.7.2" id="comment-reply-js" async data-wp-strategy="async"></script>

</body>


<!-- plugin=object-cache-pro client=phpredis metric#hits=1339 metric#misses=37 metric#hit-ratio=97.3 metric#bytes=795544 metric#prefetches=0 metric#store-reads=107 metric#store-writes=11 metric#store-hits=82 metric#store-misses=33 metric#sql-queries=18 metric#ms-total=376.82 metric#ms-cache=32.76 metric#ms-cache-avg=0.2800 metric#ms-cache-ratio=8.7 sample#redis-hits=11097963 sample#redis-misses=5715642 sample#redis-hit-ratio=66.0 sample#redis-ops-per-sec=125 sample#redis-evicted-keys=0 sample#redis-used-memory=43656248 sample#redis-used-memory-rss=30441472 sample#redis-memory-fragmentation-ratio=0.7 sample#redis-connected-clients=3 sample#redis-tracking-clients=0 sample#redis-rejected-connections=0 sample#redis-keys=83509 -->
</html>
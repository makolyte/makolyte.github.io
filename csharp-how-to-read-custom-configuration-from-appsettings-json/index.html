<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>C# &#x2d; How to read configuration from appsettings.json</title>
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The SEO Framework by Sybre Waaijer -->
<meta name="robots" content="max-snippet:-1,max-image-preview:standard,max-video-preview:-1">
<link rel="canonical" href="/csharp-how-to-read-custom-configuration-from-appsettings-json/">
<meta name="description" content="Explains how to read configuration values from appsettings.json 1) In a console app and 2) in ASP.NET Core">
<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="makolyte">
<meta property="og:title" content="C# &#x2d; How to read configuration from appsettings.json">
<meta property="og:description" content="Explains how to read configuration values from appsettings.json 1) In a console app and 2) in ASP.NET Core">
<meta property="og:url" content="/csharp-how-to-read-custom-configuration-from-appsettings-json/">
<meta property="og:image" content="/wp-content/uploads/2020/10/cropped-how-to-load-appsettingsjson.png">
<meta property="og:image:width" content="535">
<meta property="og:image:height" content="249">
<meta property="article:published_time" content="2020-10-24T19:05:46+00:00">
<meta property="article:modified_time" content="2025-01-26T16:28:46+00:00">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@makolyte">
<meta name="twitter:title" content="C# &#x2d; How to read configuration from appsettings.json">
<meta name="twitter:description" content="Explains how to read configuration values from appsettings.json 1) In a console app and 2) in ASP.NET Core">
<meta name="twitter:image" content="/wp-content/uploads/2020/10/cropped-how-to-load-appsettingsjson.png">
<script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"/#/schema/WebSite","url":"/","name":"makolyte","description":"Solve real coding problems","inLanguage":"en-US","potentialAction":{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"/search/{search_term_string}/"},"query-input":"required name=search_term_string"},"publisher":{"@type":"Organization","@id":"/#/schema/Organization","name":"makolyte","url":"/","sameAs":"https://twitter.com/makolyte","logo":{"@type":"ImageObject","url":"/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-4.png","contentUrl":"/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-4.png","width":332,"height":318}}},{"@type":"WebPage","@id":"/csharp-how-to-read-custom-configuration-from-appsettings-json/","url":"/csharp-how-to-read-custom-configuration-from-appsettings-json/","name":"C# - How to read configuration from appsettings.json","description":"Explains how to read configuration values from appsettings.json 1) In a console app and 2) in ASP.NET Core","inLanguage":"en-US","isPartOf":{"@id":"/#/schema/WebSite"},"breadcrumb":{"@type":"BreadcrumbList","@id":"/#/schema/BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":"/","name":"makolyte"},{"@type":"ListItem","position":2,"item":"/category/csharp/","name":"C#"},{"@type":"ListItem","position":3,"name":"C# - How to read configuration from appsettings.json"}]},"potentialAction":{"@type":"ReadAction","target":"/csharp-how-to-read-custom-configuration-from-appsettings-json/"},"datePublished":"2020-10-24T19:05:46+00:00","dateModified":"2025-01-26T16:28:46+00:00","author":{"@type":"Person","@id":"/#/schema/Person/e99fbed30936ed203340e328108b95ee","name":"Mak"}}]}</script>


<link rel="alternate" type="application/rss+xml" title="makolyte &raquo; Feed" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="makolyte &raquo; Comments Feed" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="makolyte &raquo; C# &#8211; How to read configuration from appsettings.json Comments Feed" href="/csharp-how-to-read-custom-configuration-from-appsettings-json/feed/">
<script>
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.7.2"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"üè≥Ô∏è‚Äç‚ößÔ∏è","üè≥Ô∏è‚Äã‚ößÔ∏è")?!1:!n(e,"üá∫üá≥","üá∫‚Äãüá≥")&&!n(e,"üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø","üè¥‚ÄãÛ†Åß‚ÄãÛ†Å¢‚ÄãÛ†Å•‚ÄãÛ†ÅÆ‚ÄãÛ†Åß‚ÄãÛ†Åø");case"emoji":return!n(e,"üê¶‚Äç‚¨õ","üê¶‚Äã‚¨õ")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
</script>
<style id="wp-emoji-styles-inline-css">img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}</style>
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=6.7.2" media="all">
<link rel="stylesheet" id="syntax-highlighting-code-block-theme-css" href="/wp-content/plugins/syntax-highlighting-code-block/vendor/scrivo/highlight-php/styles/vs2015.css?ver=1.5.1" media="all">
<style id="syntax-highlighting-code-block-inline-css">.wp-block-code {
	border: 0;
	padding: 0;
	-webkit-text-size-adjust: 100%;
	text-size-adjust: 100%;
}

.wp-block-code > span {
	display: block;
	overflow: auto;
}

.shcb-language {
	border: 0;
	clip: rect(1px, 1px, 1px, 1px);
	-webkit-clip-path: inset(50%);
	clip-path: inset(50%);
	height: 1px;
	margin: -1px;
	overflow: hidden;
	padding: 0;
	position: absolute;
	width: 1px;
	word-wrap: normal;
	word-break: normal;
}

.hljs {
	box-sizing: border-box;
}

.hljs.shcb-code-table {
	display: table;
	width: 100%;
}

.hljs.shcb-code-table > .shcb-loc {
	color: inherit;
	display: table-row;
	width: 100%;
}

.hljs.shcb-code-table .shcb-loc > span {
	display: table-cell;
}

.wp-block-code code.hljs:not(.shcb-wrap-lines) {
	white-space: pre;
}

.wp-block-code code.hljs.shcb-wrap-lines {
	white-space: pre-wrap;
}

.hljs.shcb-line-numbers {
	border-spacing: 0;
	counter-reset: line;
}

.hljs.shcb-line-numbers > .shcb-loc {
	counter-increment: line;
}

.hljs.shcb-line-numbers .shcb-loc > span {
	padding-left: 0.75em;
}

.hljs.shcb-line-numbers .shcb-loc::before {
	border-right: 1px solid #ddd;
	content: counter(line);
	display: table-cell;
	padding: 0 0.75em;
	text-align: right;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	white-space: nowrap;
	width: 1%;
}

.hljs > mark.shcb-loc { background-color: #3F3F3F; }</style>
<style id="classic-theme-styles-inline-css">/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style>
<style id="global-styles-inline-css">:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--contrast: var(--contrast);--wp--preset--color--contrast-2: var(--contrast-2);--wp--preset--color--contrast-3: var(--contrast-3);--wp--preset--color--base: var(--base);--wp--preset--color--base-2: var(--base-2);--wp--preset--color--base-3: var(--base-3);--wp--preset--color--accent: var(--accent);--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}</style>
<link rel="stylesheet" id="ez-toc-css" href="/wp-content/plugins/etoc-makolyte-mod/assets/css/screen.min.css?ver=2.0.17.1" media="all">
<style id="ez-toc-inline-css">div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}</style>
<link rel="stylesheet" id="related-frontend-css-css" href="/wp-content/plugins/related/css/frontend-style.css?ver=3.5.0" media="all">
<link rel="stylesheet" id="generate-style-css" href="/wp-content/themes/generatepress/assets/css/all.min.css?ver=3.3.1" media="all">
<style id="generate-style-inline-css">body{background-color:#ffffff;color:#000000;}a{color:#1e73be;}a:hover, a:focus, a:active{color:#000000;}body .grid-container{max-width:1400px;}.wp-block-group__inner-container{max-width:1400px;margin-left:auto;margin-right:auto;}.navigation-search{position:absolute;left:-99999px;pointer-events:none;visibility:hidden;z-index:20;width:100%;top:0;transition:opacity 100ms ease-in-out;opacity:0;}.navigation-search.nav-search-active{left:0;right:0;pointer-events:auto;visibility:visible;opacity:1;}.navigation-search input[type="search"]{outline:0;border:0;vertical-align:bottom;line-height:1;opacity:0.9;width:100%;z-index:20;border-radius:0;-webkit-appearance:none;height:60px;}.navigation-search input::-ms-clear{display:none;width:0;height:0;}.navigation-search input::-ms-reveal{display:none;width:0;height:0;}.navigation-search input::-webkit-search-decoration, .navigation-search input::-webkit-search-cancel-button, .navigation-search input::-webkit-search-results-button, .navigation-search input::-webkit-search-results-decoration{display:none;}.main-navigation li.search-item{z-index:21;}li.search-item.active{transition:opacity 100ms ease-in-out;}.nav-left-sidebar .main-navigation li.search-item.active,.nav-right-sidebar .main-navigation li.search-item.active{width:auto;display:inline-block;float:right;}.gen-sidebar-nav .navigation-search{top:auto;bottom:0;}:root{--contrast:#222222;--contrast-2:#575760;--contrast-3:#b2b2be;--base:#f0f0f0;--base-2:#f7f8f9;--base-3:#ffffff;--accent:#1e73be;}:root .has-contrast-color{color:var(--contrast);}:root .has-contrast-background-color{background-color:var(--contrast);}:root .has-contrast-2-color{color:var(--contrast-2);}:root .has-contrast-2-background-color{background-color:var(--contrast-2);}:root .has-contrast-3-color{color:var(--contrast-3);}:root .has-contrast-3-background-color{background-color:var(--contrast-3);}:root .has-base-color{color:var(--base);}:root .has-base-background-color{background-color:var(--base);}:root .has-base-2-color{color:var(--base-2);}:root .has-base-2-background-color{background-color:var(--base-2);}:root .has-base-3-color{color:var(--base-3);}:root .has-base-3-background-color{background-color:var(--base-3);}:root .has-accent-color{color:var(--accent);}:root .has-accent-background-color{background-color:var(--accent);}body, button, input, select, textarea{font-family:-apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";}body{line-height:1.5;}.entry-content > [class*="wp-block-"]:not(:last-child):not(.wp-block-heading){margin-bottom:1.5em;}.main-navigation .main-nav ul ul li a{font-size:14px;}.sidebar .widget, .footer-widgets .widget{font-size:17px;}h1{font-weight:300;font-size:40px;}h2{font-weight:300;font-size:30px;}h3{font-size:20px;}h4{font-size:inherit;}h5{font-size:inherit;}@media (max-width:768px){.main-title{font-size:30px;}h1{font-size:30px;}h2{font-size:25px;}}.top-bar{background-color:#636363;color:#ffffff;}.top-bar a{color:#ffffff;}.top-bar a:hover{color:#303030;}.site-header{background-color:#ffffff;color:#3a3a3a;}.site-header a{color:#3a3a3a;}.main-title a,.main-title a:hover{color:#222222;}.site-description{color:#757575;}.main-navigation,.main-navigation ul ul{background-color:#222222;}.main-navigation .main-nav ul li a, .main-navigation .menu-toggle, .main-navigation .menu-bar-items{color:#ffffff;}.main-navigation .main-nav ul li:not([class*="current-menu-"]):hover > a, .main-navigation .main-nav ul li:not([class*="current-menu-"]):focus > a, .main-navigation .main-nav ul li.sfHover:not([class*="current-menu-"]) > a, .main-navigation .menu-bar-item:hover > a, .main-navigation .menu-bar-item.sfHover > a{color:#ffffff;background-color:#3f3f3f;}button.menu-toggle:hover,button.menu-toggle:focus,.main-navigation .mobile-bar-items a,.main-navigation .mobile-bar-items a:hover,.main-navigation .mobile-bar-items a:focus{color:#ffffff;}.main-navigation .main-nav ul li[class*="current-menu-"] > a{color:#ffffff;background-color:#3f3f3f;}.navigation-search input[type="search"],.navigation-search input[type="search"]:active, .navigation-search input[type="search"]:focus, .main-navigation .main-nav ul li.search-item.active > a, .main-navigation .menu-bar-items .search-item.active > a{color:#ffffff;background-color:#3f3f3f;}.main-navigation ul ul{background-color:#3f3f3f;}.main-navigation .main-nav ul ul li a{color:#ffffff;}.main-navigation .main-nav ul ul li:not([class*="current-menu-"]):hover > a,.main-navigation .main-nav ul ul li:not([class*="current-menu-"]):focus > a, .main-navigation .main-nav ul ul li.sfHover:not([class*="current-menu-"]) > a{color:#ffffff;background-color:#4f4f4f;}.main-navigation .main-nav ul ul li[class*="current-menu-"] > a{color:#ffffff;background-color:#4f4f4f;}.separate-containers .inside-article, .separate-containers .comments-area, .separate-containers .page-header, .one-container .container, .separate-containers .paging-navigation, .inside-page-header{background-color:#ffffff;}.entry-meta{color:#595959;}.entry-meta a{color:#595959;}.entry-meta a:hover{color:#1e73be;}.sidebar .widget{background-color:#ffffff;}.sidebar .widget .widget-title{color:#000000;}.footer-widgets{background-color:#ffffff;}.footer-widgets .widget-title{color:#000000;}.site-info{color:#ffffff;background-color:#222222;}.site-info a{color:#ffffff;}.site-info a:hover{color:#606060;}.footer-bar .widget_nav_menu .current-menu-item a{color:#606060;}input[type="text"],input[type="email"],input[type="url"],input[type="password"],input[type="search"],input[type="tel"],input[type="number"],textarea,select{color:#666666;background-color:#fafafa;border-color:#cccccc;}input[type="text"]:focus,input[type="email"]:focus,input[type="url"]:focus,input[type="password"]:focus,input[type="search"]:focus,input[type="tel"]:focus,input[type="number"]:focus,textarea:focus,select:focus{color:#666666;background-color:#ffffff;border-color:#bfbfbf;}button,html input[type="button"],input[type="reset"],input[type="submit"],a.button,a.wp-block-button__link:not(.has-background){color:#ffffff;background-color:#666666;}button:hover,html input[type="button"]:hover,input[type="reset"]:hover,input[type="submit"]:hover,a.button:hover,button:focus,html input[type="button"]:focus,input[type="reset"]:focus,input[type="submit"]:focus,a.button:focus,a.wp-block-button__link:not(.has-background):active,a.wp-block-button__link:not(.has-background):focus,a.wp-block-button__link:not(.has-background):hover{color:#ffffff;background-color:#3f3f3f;}a.generate-back-to-top{background-color:rgba( 0,0,0,0.4 );color:#ffffff;}a.generate-back-to-top:hover,a.generate-back-to-top:focus{background-color:rgba( 0,0,0,0.6 );color:#ffffff;}:root{--gp-search-modal-bg-color:var(--base-3);--gp-search-modal-text-color:var(--contrast);--gp-search-modal-overlay-bg-color:rgba(0,0,0,0.2);}@media (max-width:768px){.main-navigation .menu-bar-item:hover > a, .main-navigation .menu-bar-item.sfHover > a{background:none;color:#ffffff;}}.inside-top-bar{padding:10px;}.site-main .wp-block-group__inner-container{padding:40px;}.entry-content .alignwide, body:not(.no-sidebar) .entry-content .alignfull{margin-left:-40px;width:calc(100% + 80px);max-width:calc(100% + 80px);}.container.grid-container{max-width:1480px;}.rtl .menu-item-has-children .dropdown-menu-toggle{padding-left:20px;}.rtl .main-navigation .main-nav ul li.menu-item-has-children > a{padding-right:20px;}.site-info{padding:20px;}@media (max-width:768px){.separate-containers .inside-article, .separate-containers .comments-area, .separate-containers .page-header, .separate-containers .paging-navigation, .one-container .site-content, .inside-page-header{padding:30px;}.site-main .wp-block-group__inner-container{padding:30px;}.site-info{padding-right:10px;padding-left:10px;}.entry-content .alignwide, body:not(.no-sidebar) .entry-content .alignfull{margin-left:-30px;width:calc(100% + 60px);max-width:calc(100% + 60px);}}.one-container .sidebar .widget{padding:0px;}/* End cached CSS */@media (max-width:768px){.main-navigation .menu-toggle,.main-navigation .mobile-bar-items,.sidebar-nav-mobile:not(#sticky-placeholder){display:block;}.main-navigation ul,.gen-sidebar-nav{display:none;}[class*="nav-float-"] .site-header .inside-header > *{float:none;clear:both;}}</style>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" title="JSON" type="application/json" href="/wp-json/wp/v2/posts/3066">
<script defer src="https://cloud.umami.is/script.js" data-website-id="b31b5afd-a6bb-4cbc-ad87-f7d58d45fac2"></script>
    <link rel="icon" href="/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-1-120x120.png" sizes="32x32">
<link rel="icon" href="/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-1-300x300.png" sizes="192x192">
<link rel="apple-touch-icon" href="/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-1-300x300.png">
<meta name="msapplication-TileImage" content="/wp-content/uploads/2019/12/cropped-makolyte-icon-512-e1575418903583-1-300x300.png">
		<style id="wp-custom-css">.site-header .header-image {
height: 128px;
width: 91px;
}

.yarpp-related a{
    font-weight:normal !important;
}

.home-column-title {
       word-wrap: normal;
       word-break: keep-all;
	     padding-right: 4em !important;
}

.posted-on .updated {
    display: inline-block;
}

.posted-on .updated + .entry-date {
    display: none;
}

.posted-on .updated:before {
    content: "Last updated on ";
}
.posted-on .published:before {
    content: "Last updated on ";
}

.mako-grid 
{
	display:grid;
	grid-template-columns: 1fr 1fr;
	gap: 34px;
}
@media screen and (max-width: 768px)
{
	.mako-grid{
		display:grid;
		grid-template-columns: 1fr;
		gap: 34px;
	}
}

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  background: #1E1E1E;
  color: #DCDCDC;
}

.hljs-keyword,
.hljs-literal,
.hljs-symbol,
.hljs-name {
  color: #569CD6;
}
.hljs-link {
  color: #569CD6;
  text-decoration: underline;
}

.hljs-built_in,
.hljs-type {
  color: #4EC9B0;
}

.hljs-number,
.hljs-class {
  color: #B8D7A3;
}

.hljs-string,
.hljs-meta-string {
  color: #D69D85;
}

.hljs-regexp,
.hljs-template-tag {
  color: #9A5334;
}

.hljs-subst,
.hljs-function,
.hljs-title,
.hljs-params,
.hljs-formula {
  color: #DCDCDC;
}

.hljs-comment,
.hljs-quote {
  color: #57A64A;
  font-style: italic;
}

.hljs-doctag {
  color: #608B4E;
}

.hljs-meta,
.hljs-meta-keyword,
.hljs-tag {
  color: #9B9B9B;
}

.hljs-variable,
.hljs-template-variable {
  color: #BD63C5;
}

.hljs-attr,
.hljs-attribute,
.hljs-builtin-name {
  color: #9CDCFE;
}

.hljs-section {
  color: gold;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}

.hljs-bullet,
.hljs-selector-tag,
.hljs-selector-id,
.hljs-selector-class,
.hljs-selector-attr,
.hljs-selector-pseudo {
  color: #D7BA7D;
}

.hljs-addition {
  background-color: #144212;
  display: inline-block;
  width: 100%;
}

.hljs-deletion {
  background-color: #600;
  display: inline-block;
  width: 100%;
}</style>
		</head>

<body class="post-template-default single single-post postid-3066 single-format-standard wp-custom-logo wp-embed-responsive right-sidebar nav-float-right one-container fluid-header active-footer-widgets-3 nav-search-enabled header-aligned-left dropdown-hover" itemtype="https://schema.org/Blog" itemscope>
	<a class="screen-reader-text skip-link" href="#content" title="Skip to content">Skip to content</a>		<header class="site-header" id="masthead" aria-label="Site" itemtype="https://schema.org/WPHeader" itemscope>
			<div class="inside-header grid-container grid-parent">
				<div class="site-branding-container">
<div class="site-logo">
					<a href="/" rel="home">
						<img class="header-image is-logo-image" alt="makolyte" src="/wp-content/uploads/2019/12/makolyte-icon-128-e1575419011285.png">
					</a>
				</div>
<div class="site-branding">
						<p class="main-title" itemprop="headline">
					<a href="/" rel="home">
						makolyte
					</a>
				</p>
						<p class="site-description" itemprop="description">
					Solve real coding problems
				</p>
					</div>
</div>		<nav class="main-navigation grid-container grid-parent sub-menu-right" id="site-navigation" aria-label="Primary" itemtype="https://schema.org/SiteNavigationElement" itemscope>
			<div class="inside-navigation grid-container grid-parent">
						<div class="mobile-bar-items">
						<span class="search-item">
				<a aria-label="Open Search Bar" href="#">
					<span class="gp-icon icon-search"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path fill-rule="evenodd" clip-rule="evenodd" d="M208 48c-88.366 0-160 71.634-160 160s71.634 160 160 160 160-71.634 160-160S296.366 48 208 48zM0 208C0 93.125 93.125 0 208 0s208 93.125 208 208c0 48.741-16.765 93.566-44.843 129.024l133.826 134.018c9.366 9.379 9.355 24.575-.025 33.941-9.379 9.366-24.575 9.355-33.941-.025L337.238 370.987C301.747 399.167 256.839 416 208 416 93.125 416 0 322.875 0 208z"></path></svg><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M71.029 71.029c9.373-9.372 24.569-9.372 33.942 0L256 222.059l151.029-151.03c9.373-9.372 24.569-9.372 33.942 0 9.372 9.373 9.372 24.569 0 33.942L289.941 256l151.03 151.029c9.372 9.373 9.372 24.569 0 33.942-9.373 9.372-24.569 9.372-33.942 0L256 289.941l-151.029 151.03c-9.373 9.372-24.569 9.372-33.942 0-9.372-9.373-9.372-24.569 0-33.942L222.059 256 71.029 104.971c-9.372-9.373-9.372-24.569 0-33.942z"></path></svg></span>				</a>
			</span>
		</div>
						<button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">
					<span class="gp-icon icon-menu-bars"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M0 96c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24z"></path></svg><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M71.029 71.029c9.373-9.372 24.569-9.372 33.942 0L256 222.059l151.029-151.03c9.373-9.372 24.569-9.372 33.942 0 9.372 9.373 9.372 24.569 0 33.942L289.941 256l151.03 151.029c9.372 9.373 9.372 24.569 0 33.942-9.373 9.372-24.569 9.372-33.942 0L256 289.941l-151.029 151.03c-9.373 9.372-24.569 9.372-33.942 0-9.372-9.373-9.372-24.569 0-33.942L222.059 256 71.029 104.971c-9.372-9.373-9.372-24.569 0-33.942z"></path></svg></span><span class="mobile-menu">Menu</span>				</button>
				<div id="primary-menu" class="main-nav"><ul id="menu-primary-menu" class=" menu sf-menu">
<li id="menu-item-15" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15"><a href="/about/">About</a></li>
<li id="menu-item-305" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-305"><a href="/category/csharp/">C#</a></li>
<li id="menu-item-185" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-185"><a href="/category/sql/">SQL</a></li>

</ul></div>			</div>
		</nav>
					</div>
		</header>
		
	<div class="site grid-container container hfeed grid-parent" id="page">
				<div class="site-content" id="content">
			
	<div class="content-area grid-parent mobile-grid-100 grid-75 tablet-grid-75" id="primary">
		<main class="site-main" id="main">
			
<article id="post-3066" class="post-3066 post type-post status-publish format-standard hentry category-csharp tag-addsingleton tag-apicontroller tag-appsettings-json tag-configuration-getsection tag-configurationbuilder tag-copytooutputdirectory tag-ioptions tag-json" itemtype="https://schema.org/CreativeWork" itemscope>
	<div class="inside-article">
					<header class="entry-header" aria-label="Content">
				<h1 class="entry-title" itemprop="headline">C# &#8211; How to read configuration from appsettings.json</h1>		<div class="entry-meta">
			<span class="posted-on"><time class="updated" datetime="2025-01-26T11:28:46-05:00" itemprop="dateModified">01/26/2025</time><time class="entry-date published" datetime="2020-10-24T15:05:46-04:00" itemprop="datePublished">10/24/2020</time></span> <span class="byline">by <span class="author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope><a class="url fn n" href="/about/" title="Get to know more about Mak" rel="author" itemprop="url"><span class="author-name" itemprop="name">Mak</span></a></span></span> 		</div>
					</header>
			
		<div class="entry-content" itemprop="text">
			
<p>The appsettings.json file is a convenient way to store and retrieve your application&#8217;s configuration. You can add it to any project and then use the Microsoft.Extensions.Configuration library to work with it. Since appsettings.json is just a JSON file, you can add any section / values you want (this is easier than <a href="/csharp-how-to-read-a-custom-class-from-app-config-with-an-automatic-loader/" data-type="post" data-id="3019">working with XML-based app.config</a> in earlier versions of .NET!).</p>



<p>In this article, I&#8217;ll show how to read configuration from appsettings.json in a console app and in ASP.NET Core.</p>



<div id="ez-toc-container" class="ez-toc-v2_0_17_1 counter-hierarchy counter-decimal ez-toc-grey">
<div class="ez-toc-title-container">
<p class="ez-toc-title">Table of Contents</p>
<span class="ez-toc-title-toggle"></span>
</div>
<nav><ul class="ez-toc-list ez-toc-list-level-1">
<li class="ez-toc-page-1 ez-toc-heading-level-2"><a class="ez-toc-link ez-toc-heading-1" href="#Read_config_from_appsettingsjson_in_a_console_app" title="Read config from appsettings.json in a console app">Read config from appsettings.json in a console app</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-2">
<a class="ez-toc-link ez-toc-heading-2" href="#Read_config_from_appsettingsjson_in_ASPNET_Core" title="Read config from appsettings.json in ASP.NET Core">Read config from appsettings.json in ASP.NET Core</a><ul class="ez-toc-list-level-3">
<li class="ez-toc-heading-level-3"><a class="ez-toc-link ez-toc-heading-3" href="#Option_1_-_Use_a_custom_config_class" title="Option 1 &#8211; Use a custom config class">Option 1 &#8211; Use a custom config class</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-3"><a class="ez-toc-link ez-toc-heading-4" href="#Option_2_-_Use_options_pattern" title="Option 2 &#8211; Use options pattern">Option 2 &#8211; Use options pattern</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-3"><a class="ez-toc-link ez-toc-heading-5" href="#Option_3_-_Use_IConfiguration" title="Option 3 &#8211; Use IConfiguration">Option 3 &#8211; Use IConfiguration</a></li>
</ul>
</li>
<li class="ez-toc-page-1 ez-toc-heading-level-2">
<a class="ez-toc-link ez-toc-heading-6" href="#Read_a_single_value_from_appsettingsjson" title="Read a single value from appsettings.json">Read a single value from appsettings.json</a><ul class="ez-toc-list-level-3">
<li class="ez-toc-heading-level-3"><a class="ez-toc-link ez-toc-heading-7" href="#Get_a_single_value_from_a_section" title="Get a single value from a section">Get a single value from a section</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-3"><a class="ez-toc-link ez-toc-heading-8" href="#Get_a_single_top-level_value" title="Get a single top-level value">Get a single top-level value</a></li>
</ul>
</li>
</ul></nav>
</div>
<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Read_config_from_appsettingsjson_in_a_console_app"></span>Read config from appsettings.json in a console app<span class="ez-toc-section-end"></span>
</h2>



<p>In this section, I&#8217;ll show how to read configuration values from appsettings.json in a console app.</p>



<h4 class="wp-block-heading"><strong>1 &#8211; Add appsettings.json file</strong></h4>



<p>Appsettings.json is just a regular JSON file. To add it to the project: </p>



<ul class="wp-block-list">
<li>Add a new item named <em>appsettings.json</em> and initialize it to an empty JSON file:</li>
</ul>


<pre class="wp-block-code" aria-describedby="shcb-language-1" data-shcb-language-name="JSON / JSON with Comments" data-shcb-language-slug="json"><span><code class="hljs language-json shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>  
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-1"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">JSON / JSON with Comments</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">json</span><span class="shcb-language__paren">)</span></small></pre>


<ul class="wp-block-list">
<li>Set appsettings.json to copy to the output folder (in the UI or in the csproj file):</li>
</ul>


<pre class="wp-block-code" aria-describedby="shcb-language-2" data-shcb-language-name="HTML, XML" data-shcb-language-slug="xml"><span><code class="hljs language-xml shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-tag">&lt;<span class="hljs-name">Project</span> <span class="hljs-attr">Sdk</span>=<span class="hljs-string">"Microsoft.NET.Sdk"</span>&gt;</span>
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>  <span class="hljs-tag">&lt;<span class="hljs-name">PropertyGroup</span>&gt;</span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-tag">&lt;<span class="hljs-name">OutputType</span>&gt;</span>Exe<span class="hljs-tag">&lt;/<span class="hljs-name">OutputType</span>&gt;</span>
</span></span><span class="shcb-loc"><span>    <span class="hljs-tag">&lt;<span class="hljs-name">TargetFramework</span>&gt;</span>netcoreapp3.1<span class="hljs-tag">&lt;/<span class="hljs-name">TargetFramework</span>&gt;</span>
</span></span><span class="shcb-loc"><span>  <span class="hljs-tag">&lt;/<span class="hljs-name">PropertyGroup</span>&gt;</span>
</span></span><span class="shcb-loc"><span>
</span></span><mark class="shcb-loc"><span>  <span class="hljs-tag">&lt;<span class="hljs-name">ItemGroup</span>&gt;</span>
</span></mark><mark class="shcb-loc"><span>    <span class="hljs-tag">&lt;<span class="hljs-name">None</span> <span class="hljs-attr">Update</span>=<span class="hljs-string">"appsettings.json"</span>&gt;</span>
</span></mark><mark class="shcb-loc"><span>      <span class="hljs-tag">&lt;<span class="hljs-name">CopyToOutputDirectory</span>&gt;</span>PreserveNewest<span class="hljs-tag">&lt;/<span class="hljs-name">CopyToOutputDirectory</span>&gt;</span>
</span></mark><mark class="shcb-loc"><span>    <span class="hljs-tag">&lt;/<span class="hljs-name">None</span>&gt;</span>
</span></mark><mark class="shcb-loc"><span>  <span class="hljs-tag">&lt;/<span class="hljs-name">ItemGroup</span>&gt;</span>
</span></mark><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-tag">&lt;/<span class="hljs-name">Project</span>&gt;</span>
</span></span><span class="shcb-loc"><span>
</span></span></code></span><small class="shcb-language" id="shcb-language-2"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">HTML, XML</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">xml</span><span class="shcb-language__paren">)</span></small></pre>


<h4 class="wp-block-heading"><strong>2 &#8211; Install configuration packages</strong></h4>



<p>Install the <em>Microsoft.Extensions.Configuration.Json </em>and <em>Microsoft.Extensions.Configuration.Binder</em> packages: </p>


<pre class="wp-block-code" aria-describedby="shcb-language-3" data-shcb-language-name="PowerShell" data-shcb-language-slug="powershell"><span><code class="hljs language-powershell shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-built_in">Install-Package</span> Microsoft.Extensions.Configuration.Json
</span></span><span class="shcb-loc"><span><span class="hljs-built_in">Install-Package</span> Microsoft.Extensions.Configuration.Binder
</span></span></code></span><small class="shcb-language" id="shcb-language-3"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">PowerShell</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">powershell</span><span class="shcb-language__paren">)</span></small></pre>


<p><em>Note: This is using Package Manager Console (from menu View &gt; Other Windows &gt; Package Manager Console).</em></p>



<h4 class="wp-block-heading"><strong>3 &#8211; Add a custom config class</strong></h4>



<p>Add a class to load the configuration values into.</p>


<pre class="wp-block-code" aria-describedby="shcb-language-4" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">WeatherClientConfig</span>
</span></span><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> IsEnabled { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> WeatherAPIUrl { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Timeout { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-4"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<h4 class="wp-block-heading"><strong>4 &#8211; Add values to appsettings.json</strong></h4>



<p>Add a section to appsettings.json with properties matching your custom config class.</p>


<pre class="wp-block-code" aria-describedby="shcb-language-5" data-shcb-language-name="JSON / JSON with Comments" data-shcb-language-slug="json"><span><code class="hljs language-json shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>  <span class="hljs-attr">"WeatherClientConfig"</span>: {
</span></span><span class="shcb-loc"><span>    <span class="hljs-attr">"IsEnabled"</span>: <span class="hljs-literal">true</span>,
</span></span><span class="shcb-loc"><span>    <span class="hljs-attr">"WeatherAPIUrl"</span>: <span class="hljs-string">"https://localhost:12345"</span>,
</span></span><span class="shcb-loc"><span>    <span class="hljs-attr">"Timeout"</span>: <span class="hljs-number">5000</span>
</span></span><span class="shcb-loc"><span>  }
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-5"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">JSON / JSON with Comments</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">json</span><span class="shcb-language__paren">)</span></small></pre>


<h4 class="wp-block-heading"><strong>5 &#8211; Read the config section from appsettings.json</strong></h4>



<p>To read the custom config section from appsettings.json:</p>



<ul class="wp-block-list">
<li>Use ConfigurationBuilder to build the Configuration object.</li>



<li>Use GetSection() to load the custom section.</li>



<li>Use Get&lt;T&gt;() to deserialize the JSON from the custom section.</li>
</ul>



<p>Here&#8217;s an example of reading the WeatherClientConfig section into an object:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-6" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers shcb-wrap-lines"><span class="shcb-loc"><span><span class="hljs-keyword">using</span> Microsoft.Extensions.Configuration;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">var</span> config = <span class="hljs-keyword">new</span> ConfigurationBuilder()
</span></span><span class="shcb-loc"><span>                .SetBasePath(AppDomain.CurrentDomain.BaseDirectory)
</span></span><span class="shcb-loc"><span>                .AddJsonFile(<span class="hljs-string">"appsettings.json"</span>).Build();
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">var</span> section = config.GetSection(<span class="hljs-string">"WeatherClientConfig"</span>);
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">var</span> weatherClientConfig = section.Get&lt;WeatherClientConfig&gt;();
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>Console.WriteLine(weatherClientConfig.WeatherAPIUrl);
</span></span><span class="shcb-loc"><span>Console.WriteLine(weatherClientConfig.IsEnabled);
</span></span><span class="shcb-loc"><span>Console.WriteLine(weatherClientConfig.Timeout);
</span></span></code></span><small class="shcb-language" id="shcb-language-6"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p>As expected, this outputs the values from the WeatherClientConfig section in appsettings.json:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-7" data-shcb-language-name="plaintext" data-shcb-language-slug="plaintext"><span><code class="hljs language-plaintext">https:&#47;&#47;localhost:12345
True
5000</code></span><small class="shcb-language" id="shcb-language-7"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">plaintext</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">plaintext</span><span class="shcb-language__paren">)</span></small></pre>


<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Read_config_from_appsettingsjson_in_ASPNET_Core"></span>Read config from appsettings.json in ASP.NET Core<span class="ez-toc-section-end"></span>
</h2>



<p>ASP.NET Core handles most of the work of reading config values for you. You mainly have to decide how you want to load the config values and how to pass them around. There are three options, which I&#8217;ll show below. Use whichever option suits you.</p>



<p>For these examples, I&#8217;ll show how to read the following custom section (WeatherClientConfig) from appsettings.json:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-8" data-shcb-language-name="JSON / JSON with Comments" data-shcb-language-slug="json"><span><code class="hljs language-json shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>  <span class="hljs-attr">"Logging"</span>: {
</span></span><span class="shcb-loc"><span>    <span class="hljs-attr">"LogLevel"</span>: {
</span></span><span class="shcb-loc"><span>      <span class="hljs-attr">"Default"</span>: <span class="hljs-string">"Information"</span>,
</span></span><span class="shcb-loc"><span>      <span class="hljs-attr">"Microsoft"</span>: <span class="hljs-string">"Warning"</span>,
</span></span><span class="shcb-loc"><span>      <span class="hljs-attr">"Microsoft.Hosting.Lifetime"</span>: <span class="hljs-string">"Information"</span>
</span></span><span class="shcb-loc"><span>    }
</span></span><span class="shcb-loc"><span>  },
</span></span><span class="shcb-loc"><span>  <span class="hljs-attr">"AllowedHosts"</span>: <span class="hljs-string">"*"</span>,
</span></span><mark class="shcb-loc"><span>  <span class="hljs-attr">"WeatherClientConfig"</span>: {
</span></mark><mark class="shcb-loc"><span>    <span class="hljs-attr">"IsEnabled"</span>: <span class="hljs-literal">true</span>,
</span></mark><mark class="shcb-loc"><span>    <span class="hljs-attr">"WeatherAPIUrl"</span>: <span class="hljs-string">"https://localhost:12345"</span>,
</span></mark><mark class="shcb-loc"><span>    <span class="hljs-attr">"Timeout"</span>: <span class="hljs-number">5000</span>
</span></mark><mark class="shcb-loc"><span>  }
</span></mark><span class="shcb-loc"><span>}
</span></span><span class="shcb-loc"><span>
</span></span></code></span><small class="shcb-language" id="shcb-language-8"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">JSON / JSON with Comments</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">json</span><span class="shcb-language__paren">)</span></small></pre>


<h3 class="wp-block-heading">
<span class="ez-toc-section" id="Option_1_-_Use_a_custom_config_class"></span>Option 1 &#8211; Use a custom config class<span class="ez-toc-section-end"></span>
</h3>



<p>You can load the appsettings.json section into a custom config object. Then you can register it as a service and dependency inject it. I recommend this approach because it&#8217;s simple and keeps the configuration loading stuff (IOptions and IConfiguration) out of the rest of the code.</p>



<h4 class="wp-block-heading"><strong>1 &#8211; Add custom config class</strong></h4>


<pre class="wp-block-code" aria-describedby="shcb-language-9" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">WeatherClientConfig</span>
</span></span><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> IsEnabled { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> WeatherAPIUrl { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Timeout { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-9"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<h4 class="wp-block-heading"><strong>2 &#8211; Read the config section from appsettings.json</strong></h4>



<p>In the initialization code:</p>



<ul class="wp-block-list">
<li>Use builder.Configuration.GetSection() to load the section from appsettings.json.</li>



<li>Use Get&lt;T&gt; to deserialize it to the custom config object.</li>



<li>Register it as service with builder.Services.AddSingleton().</li>
</ul>


<pre class="wp-block-code" aria-describedby="shcb-language-10" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">using</span> Microsoft.Extensions.Configuration;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">var</span> builder = WebApplication.CreateBuilder(args);
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-comment">// Add services to the container.</span>
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>builder.Services.AddControllers();
</span></span><span class="shcb-loc"><span>
</span></span><mark class="shcb-loc"><span><span class="hljs-keyword">var</span> section = builder.Configuration.GetSection(<span class="hljs-string">"WeatherClientConfig"</span>);
</span></mark><mark class="shcb-loc"><span><span class="hljs-keyword">var</span> weatherClientConfig = section.Get&lt;WeatherClientConfig&gt;();
</span></mark><mark class="shcb-loc"><span>
</span></mark><mark class="shcb-loc"><span>builder.Services.AddSingleton(weatherClientConfig);
</span></mark><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">var</span> app = builder.Build();
</span></span></code></span><small class="shcb-language" id="shcb-language-10"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p><em>Note: Before .NET 6, do this in Startup.ConfigureServices().</em></p>



<h4 class="wp-block-heading"><strong>3 &#8211; Dependency inject in controller</strong></h4>



<p>Add the custom config class as a constructor parameter wherever you need it.</p>


<pre class="wp-block-code" aria-describedby="shcb-language-11" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span>&#91;<span class="hljs-meta">ApiController</span>]
</span></span><span class="shcb-loc"><span>&#91;<span class="hljs-meta">Route(<span class="hljs-meta-string">"&#91;controller]"</span>)</span>]
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ExampleController</span> : <span class="hljs-title">ControllerBase</span>
</span></span><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">private</span> WeatherClientConfig config;
</span></span><span class="shcb-loc"><span>
</span></span><mark class="shcb-loc"><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ExampleController</span>(<span class="hljs-params">WeatherClientConfig config</span>)</span>
</span></mark><mark class="shcb-loc"><span>	{
</span></mark><mark class="shcb-loc"><span>		<span class="hljs-keyword">this</span>.config = config;
</span></mark><mark class="shcb-loc"><span>	}
</span></mark><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>	&#91;<span class="hljs-meta">HttpGet</span>]
</span></span><span class="shcb-loc"><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">GetIsEnabled</span>(<span class="hljs-params"></span>)</span>
</span></span><span class="shcb-loc"><span>	{
</span></span><span class="shcb-loc"><span>		<span class="hljs-keyword">return</span> Ok(config.IsEnabled);
</span></span><span class="shcb-loc"><span>	}
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-11"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<h3 class="wp-block-heading">
<span class="ez-toc-section" id="Option_2_-_Use_options_pattern"></span>Option 2 &#8211; Use options pattern<span class="ez-toc-section-end"></span>
</h3>



<p>This approach uses the <em><a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/configuration/options?view=aspnetcore-7.0" data-type="URL" data-id="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/configuration/options?view=aspnetcore-7.0" target="_blank" rel="noreferrer noopener">options pattern</a></em>. This is useful in more complex scenarios where you need the full capabilities provided by IOptions.</p>



<h4 class="wp-block-heading"><strong>1 &#8211; Add custom config class</strong></h4>


<pre class="wp-block-code" aria-describedby="shcb-language-12" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">WeatherClientConfig</span>
</span></span><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> IsEnabled { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> WeatherAPIUrl { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Timeout { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-12"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<h4 class="wp-block-heading"><strong>2 &#8211; Configure with appsettings.json section</strong></h4>



<p>In the initialization code, use builder.Services.Configure() on the custom config section from appsettings.json.</p>


<pre class="wp-block-code" aria-describedby="shcb-language-13" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">using</span> Microsoft.Extensions.Configuration;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">var</span> builder = WebApplication.CreateBuilder(args);
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-comment">// Add services to the container.</span>
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>builder.Services.AddControllers();
</span></span><span class="shcb-loc"><span>
</span></span><mark class="shcb-loc"><span><span class="hljs-keyword">var</span> section = builder.Configuration.GetSection(<span class="hljs-string">"WeatherClientConfig"</span>);
</span></mark><mark class="shcb-loc"><span>builder.Services.Configure&lt;WeatherClientConfig&gt;(section);
</span></mark><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">var</span> app = builder.Build();
</span></span></code></span><small class="shcb-language" id="shcb-language-13"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p><em>Note: Before .NET 6, do this in Startup.ConfigureServices().</em></p>



<p>This essentially registers IOptions&lt;WeatherClientConfig&gt; as a service.</p>



<h4 class="wp-block-heading"><strong>3 &#8211; Dependency inject in controller</strong></h4>



<p>Add IOptions&lt;WeatherClientConfig&gt; as a constructor parameter wherever you need it.</p>


<pre class="wp-block-code" aria-describedby="shcb-language-14" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">using</span> Microsoft.Extensions.Options;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>&#91;<span class="hljs-meta">ApiController</span>]
</span></span><span class="shcb-loc"><span>&#91;<span class="hljs-meta">Route(<span class="hljs-meta-string">"&#91;controller]"</span>)</span>]
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ExampleController</span> : <span class="hljs-title">ControllerBase</span>
</span></span><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">private</span> IOptions&lt;WeatherClientConfig&gt; config;
</span></span><span class="shcb-loc"><span>
</span></span><mark class="shcb-loc"><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ExampleController</span>(<span class="hljs-params">IOptions&lt;WeatherClientConfig&gt; config</span>)</span>
</span></mark><mark class="shcb-loc"><span>	{
</span></mark><mark class="shcb-loc"><span>		<span class="hljs-keyword">this</span>.config = config;
</span></mark><mark class="shcb-loc"><span>	}
</span></mark><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>	&#91;<span class="hljs-meta">HttpGet</span>]
</span></span><span class="shcb-loc"><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">GetIsEnabled</span>(<span class="hljs-params"></span>)</span>
</span></span><span class="shcb-loc"><span>	{
</span></span><span class="shcb-loc"><span>		<span class="hljs-keyword">return</span> Ok(config.Value.IsEnabled);
</span></span><span class="shcb-loc"><span>	}
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-14"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p>Notice that instead of directly using WeatherClientConfig, you use it via IOptions.</p>



<h3 class="wp-block-heading">
<span class="ez-toc-section" id="Option_3_-_Use_IConfiguration"></span>Option 3 &#8211; Use IConfiguration<span class="ez-toc-section-end"></span>
</h3>



<p>If you don&#8217;t want to add a custom config class, you can dependency inject IConfiguration and use it to directly access values. Here&#8217;s an example:<em> </em> </p>


<pre class="wp-block-code" aria-describedby="shcb-language-15" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span>&#91;<span class="hljs-meta">ApiController</span>]
</span></span><span class="shcb-loc"><span>&#91;<span class="hljs-meta">Route(<span class="hljs-meta-string">"&#91;controller]"</span>)</span>]
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ExampleController</span> : <span class="hljs-title">ControllerBase</span>
</span></span><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>	<span class="hljs-keyword">private</span> IConfiguration config;
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ExampleController</span>(<span class="hljs-params">IConfiguration config</span>)</span>
</span></span><span class="shcb-loc"><span>	{
</span></span><span class="shcb-loc"><span>		<span class="hljs-keyword">this</span>.config = config;
</span></span><span class="shcb-loc"><span>	}
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span>	&#91;<span class="hljs-meta">HttpGet</span>]
</span></span><span class="shcb-loc"><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">GetIsEnabled</span>(<span class="hljs-params"></span>)</span>
</span></span><span class="shcb-loc"><span>	{
</span></span><span class="shcb-loc"><span>		<span class="hljs-keyword">return</span> Ok(config.GetValue&lt;<span class="hljs-keyword">bool</span>&gt;(<span class="hljs-string">"WeatherClientConfig:IsEnabled"</span>));
</span></span><span class="shcb-loc"><span>	}
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-15"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p>Notice that you don&#8217;t need to do anything in the intialization code (IConfiguration is already registered as a service by ASP.NET Core).</p>



<h2 class="wp-block-heading">
<span class="ez-toc-section" id="Read_a_single_value_from_appsettingsjson"></span>Read a single value from appsettings.json<span class="ez-toc-section-end"></span>
</h2>



<p>The sections above explained how to read a custom class from appsettings.json. What if you just want a single value?</p>



<h3 class="wp-block-heading">
<span class="ez-toc-section" id="Get_a_single_value_from_a_section"></span>Get a single value from a section<span class="ez-toc-section-end"></span>
</h3>



<p>Let&#8217;s say your appsettings.json looks like this:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-16" data-shcb-language-name="JSON / JSON with Comments" data-shcb-language-slug="json"><span><code class="hljs language-json shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>  <span class="hljs-attr">"WeatherClientConfig"</span>: {
</span></span><span class="shcb-loc"><span>    <span class="hljs-attr">"IsEnabled"</span>: <span class="hljs-literal">true</span>,
</span></span><span class="shcb-loc"><span>    <span class="hljs-attr">"WeatherAPIUrl"</span>: <span class="hljs-string">"https://localhost:12345"</span>,
</span></span><span class="shcb-loc"><span>    <span class="hljs-attr">"Timeout"</span>: <span class="hljs-number">5000</span>
</span></span><span class="shcb-loc"><span>  }
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-16"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">JSON / JSON with Comments</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">json</span><span class="shcb-language__paren">)</span></small></pre>


<p>To get <em>WeatherClientConfig.IsEnabled</em> (without getting the whole WeatherClientConfig object), you can use either of these two options:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-17" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-comment">//option 1 - GetValue(sectionName:key)</span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">var</span> weatherIsEnabled = config.GetValue&lt;<span class="hljs-keyword">bool</span>&gt;(<span class="hljs-string">"WeatherClientConfig:IsEnabled"</span>);
</span></span><span class="shcb-loc"><span>
</span></span><span class="shcb-loc"><span><span class="hljs-comment">//option 2 - GetSection(sectionName) + GetValue(key)</span>
</span></span><span class="shcb-loc"><span><span class="hljs-keyword">var</span> weatherIsEnabled = config.GetSection(<span class="hljs-string">"WeatherClientConfig"</span>).GetValue&lt;<span class="hljs-keyword">bool</span>&gt;(<span class="hljs-string">"IsEnabled"</span>);
</span></span></code></span><small class="shcb-language" id="shcb-language-17"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p><em>Note: If the WeatherClientConfig section or the IsEnabled property is missing, then both of these options will return false.</em></p>



<h3 class="wp-block-heading">
<span class="ez-toc-section" id="Get_a_single_top-level_value"></span>Get a single top-level value<span class="ez-toc-section-end"></span>
</h3>



<p>How about if you want to get a single value not contained in a section? For example, let&#8217;s say your appsettings.json looks like this:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-18" data-shcb-language-name="JSON / JSON with Comments" data-shcb-language-slug="json"><span><code class="hljs language-json shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span>{
</span></span><span class="shcb-loc"><span>  <span class="hljs-attr">"Debug"</span>: <span class="hljs-literal">true</span>
</span></span><span class="shcb-loc"><span>}
</span></span></code></span><small class="shcb-language" id="shcb-language-18"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">JSON / JSON with Comments</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">json</span><span class="shcb-language__paren">)</span></small></pre>


<p>To get <em>Debug</em>, use this:</p>


<pre class="wp-block-code" aria-describedby="shcb-language-19" data-shcb-language-name="C#" data-shcb-language-slug="cs"><span><code class="hljs language-cs shcb-code-table shcb-line-numbers"><span class="shcb-loc"><span><span class="hljs-keyword">var</span> debug = config.GetValue&lt;<span class="hljs-keyword">bool</span>&gt;(<span class="hljs-string">"Debug"</span>);
</span></span></code></span><small class="shcb-language" id="shcb-language-19"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">C#</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">cs</span><span class="shcb-language__paren">)</span></small></pre>


<p><em>Note: If the Debug property were missing from appsettings.json, this would return false.</em></p>
<div class="related_content" style="clear:both;">
<h3 class="widget-title">Related Articles</h3>
									<ul class="related-posts">
										<li class="related-post">
											<a href="/csharp-how-to-update-appsettings-json-programmatically/">C# &#8211; How to update appsettings.json programmatically</a>
										</li>
										<li class="related-post">
											<a href="/csharp-configurationsection-get-returns-null/">C# &#8211; ConfigurationSection.Get() returns null</a>
										</li>
										<li class="related-post">
											<a href="/csharp-when-setbasepath-and-addjsonfile-are-missing-for-configurationbuilder/">ConfigurationBuilder SetBasePath() / AddJsonFile() are missing</a>
										</li>
										<li class="related-post">
											<a href="/csharp-how-to-supply-ioptionst/">C# &#8211; How to supply IOptions<t></t></a>
										</li>
									</ul>
									<div style="clear:both;"></div>
</div>
							</div>

				<footer class="entry-meta" aria-label="Entry meta">
			<span class="cat-links"><span class="gp-icon icon-categories"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M0 112c0-26.51 21.49-48 48-48h110.014a48 48 0 0143.592 27.907l12.349 26.791A16 16 0 00228.486 128H464c26.51 0 48 21.49 48 48v224c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112z"></path></svg></span><span class="screen-reader-text">Categories </span><a href="/category/csharp/" rel="category tag">C#</a></span> <span class="tags-links"><span class="gp-icon icon-tags"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M20 39.5c-8.836 0-16 7.163-16 16v176c0 4.243 1.686 8.313 4.687 11.314l224 224c6.248 6.248 16.378 6.248 22.626 0l176-176c6.244-6.244 6.25-16.364.013-22.615l-223.5-224A15.999 15.999 0 00196.5 39.5H20zm56 96c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24z"></path><path d="M259.515 43.015c4.686-4.687 12.284-4.687 16.97 0l228 228c4.686 4.686 4.686 12.284 0 16.97l-180 180c-4.686 4.687-12.284 4.687-16.97 0-4.686-4.686-4.686-12.284 0-16.97L479.029 279.5 259.515 59.985c-4.686-4.686-4.686-12.284 0-16.97z"></path></svg></span><span class="screen-reader-text">Tags </span><a href="/tag/addsingleton/" rel="tag">addsingleton</a>, <a href="/tag/apicontroller/" rel="tag">apicontroller</a>, <a href="/tag/appsettings-json/" rel="tag">appsettings.json</a>, <a href="/tag/configuration-getsection/" rel="tag">configuration-getsection</a>, <a href="/tag/configurationbuilder/" rel="tag">configurationbuilder</a>, <a href="/tag/copytooutputdirectory/" rel="tag">copytooutputdirectory</a>, <a href="/tag/ioptions/" rel="tag">ioptions</a>, <a href="/tag/json/" rel="tag">json</a></span> 		<nav id="nav-below" class="post-navigation" aria-label="Posts">
			<div class="nav-previous">
<span class="gp-icon icon-arrow-left"><svg viewbox="0 0 192 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M178.425 138.212c0 2.265-1.133 4.813-2.832 6.512L64.276 256.001l111.317 111.277c1.7 1.7 2.832 4.247 2.832 6.513 0 2.265-1.133 4.813-2.832 6.512L161.43 394.46c-1.7 1.7-4.249 2.832-6.514 2.832-2.266 0-4.816-1.133-6.515-2.832L16.407 262.514c-1.699-1.7-2.832-4.248-2.832-6.513 0-2.265 1.133-4.813 2.832-6.512l131.994-131.947c1.7-1.699 4.249-2.831 6.515-2.831 2.265 0 4.815 1.132 6.514 2.831l14.163 14.157c1.7 1.7 2.832 3.965 2.832 6.513z" fill-rule="nonzero"></path></svg></span><span class="prev"><a href="/csharp-duplicate-assemblyversion-attribute/" rel="prev">C# &#8211; Duplicate &#8216;AssemblyVersion&#8217; attribute</a></span>
</div>
<div class="nav-next">
<span class="gp-icon icon-arrow-right"><svg viewbox="0 0 192 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M178.425 256.001c0 2.266-1.133 4.815-2.832 6.515L43.599 394.509c-1.7 1.7-4.248 2.833-6.514 2.833s-4.816-1.133-6.515-2.833l-14.163-14.162c-1.699-1.7-2.832-3.966-2.832-6.515 0-2.266 1.133-4.815 2.832-6.515l111.317-111.316L16.407 144.685c-1.699-1.7-2.832-4.249-2.832-6.515s1.133-4.815 2.832-6.515l14.163-14.162c1.7-1.7 4.249-2.833 6.515-2.833s4.815 1.133 6.514 2.833l131.994 131.993c1.7 1.7 2.832 4.249 2.832 6.515z" fill-rule="nonzero"></path></svg></span><span class="next"><a href="/csharp-switch-from-using-httpwebrequest-to-httpclient/" rel="next">C# &#8211; Switch from using HttpWebRequest to HttpClient</a></span>
</div>		</nav>
				</footer>
			</div>
</article>

			<div class="comments-area">
				<div id="comments">

	<h3 class="comments-title">16 thoughts on &ldquo;C# &#8211; How to read configuration from appsettings.json&rdquo;</h3>
		<ol class="comment-list">
			
		<li id="comment-9408" class="comment even thread-even depth-1">
			<article class="comment-body" id="div-comment-9408" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">BobT</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-9408">									<time datetime="2021-04-14T11:18:27-04:00" itemprop="datePublished">
										04/14/2021 at 11:18 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>After many hours scratching around trying to access my custom configuration within my IHostBuilder CreateHostBuilder(string[] args) method this finally gave me the simplest answer I was looking for!</p>
<p>Bravo!</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->

		<li id="comment-9553" class="comment odd alt thread-odd thread-alt depth-1">
			<article class="comment-body" id="div-comment-9553" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">CrazyTim</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-9553">									<time datetime="2021-04-19T19:48:37-04:00" itemprop="datePublished">
										04/19/2021 at 7:48 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Very helpful and clear, thanks for writing this up!</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->

		<li id="comment-10064" class="comment even thread-even depth-1 parent">
			<article class="comment-body" id="div-comment-10064" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Alonso Morales</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-10064">									<time datetime="2021-05-25T09:10:48-04:00" itemprop="datePublished">
										05/25/2021 at 9:10 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Gracias!, excelente articulo, resolvi√≥ la duda que ten√≠a.</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-10084" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-10084" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-10084">									<time datetime="2021-05-25T15:33:04-04:00" itemprop="datePublished">
										05/25/2021 at 3:33 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Gracias. Me alegro que el art√≠culo te ayud√≥</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->

		<li id="comment-13029" class="comment even thread-odd thread-alt depth-1 parent">
			<article class="comment-body" id="div-comment-13029" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Jan</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-13029">									<time datetime="2021-12-02T15:30:05-05:00" itemprop="datePublished">
										12/02/2021 at 3:30 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Remove the trailing ; &#8212; good write up.</p>
<p>public bool IsEnabled { get; set; };</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-13030" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-13030" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-13030">									<time datetime="2021-12-02T15:40:43-05:00" itemprop="datePublished">
										12/02/2021 at 3:40 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Thanks Jan. Good catch, I fixed it.</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->

		<li id="comment-15638" class="comment even thread-even depth-1 parent">
			<article class="comment-body" id="div-comment-15638" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Paul</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-15638">									<time datetime="2022-03-15T11:31:40-04:00" itemprop="datePublished">
										03/15/2022 at 11:31 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Great article, thanks &#8211; moved to Core from &#8216;old&#8217; .NET and getting nowhere with settings until I read this!</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-15642" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-15642" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-15642">									<time datetime="2022-03-15T13:29:57-04:00" itemprop="datePublished">
										03/15/2022 at 1:29 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>I&#8217;m very glad to hear this helped you as you&#8217;re transitioning to .NET Core</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->

		<li id="comment-18902" class="comment even thread-odd thread-alt depth-1">
			<article class="comment-body" id="div-comment-18902" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">MT</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-18902">									<time datetime="2022-05-26T16:08:49-04:00" itemprop="datePublished">
										05/26/2022 at 4:08 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>This helped me out very much! Very clear and concise. Thanks!</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->

		<li id="comment-20129" class="comment odd alt thread-even depth-1">
			<article class="comment-body" id="div-comment-20129" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Andrii</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-20129">									<time datetime="2022-06-11T13:02:52-04:00" itemprop="datePublished">
										06/11/2022 at 1:02 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Thanks a lot, it helps!</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->

		<li id="comment-27079" class="comment even thread-odd thread-alt depth-1 parent">
			<article class="comment-body" id="div-comment-27079" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Mona</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-27079">									<time datetime="2022-08-10T03:07:07-04:00" itemprop="datePublished">
										08/10/2022 at 3:07 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Hello,</p>
<p>Thanks for information for custom configuration. But I need to use it with ASP.NET Core Razor Pages, I&#8217;m not using MVC. </p>
<p> I&#8217;m new to ASP.NET Core, so not sure to integrate in Razor pages. There are few issues :<br>
1. is there any way to handle it without MVC?<br>
2. I&#8217;m using latest version of ASP.NET Core 6.0 and there are no Startup.cs file any more.</p>
<p>Awaiting for response.</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-27143" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-27143" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-27143">									<time datetime="2022-08-10T10:46:53-04:00" itemprop="datePublished">
										08/10/2022 at 10:46 am									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Hi, </p>
<p>1. Follow the first two original steps since they&#8217;re the same (add a custom class + put settings in appsettings.json).</p>
<p>2. Because you&#8217;re using the new project template (where everything is in Main()), read the config and register the custom config class in Main():</p>
<p>public static void Main(string[] args)<br>
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;var builder = WebApplication.CreateBuilder(args);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;builder.Services.AddRazorPages();<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;//step 1 &#8211; Read from config file<br>
&nbsp;&nbsp;&nbsp;&nbsp;var section = builder.Configuration.GetSection(nameof(WeatherClientConfig));<br>
&nbsp;&nbsp;&nbsp;&nbsp;var weatherClientConfig = section.Get&lt;WeatherClientConfig&gt;();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;//step 2 &#8211; Register config instance with DI container<br>
&nbsp;&nbsp;&nbsp;&nbsp;builder.Services.AddSingleton(weatherClientConfig);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;var app = builder.Build();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;//rest of the code<br>
}</p>
<p>3. Now here&#8217;s the part that&#8217;s different for Razor Pages.<br>
First, add the custom config class as a constructor parameter (this enables constructor injection):</p>
<p>public class IndexModel : PageModel<br>
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;public readonly WeatherClientConfig WeatherClientConfig;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;public IndexModel(WeatherClientConfig weatherClientConfig)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WeatherClientConfig = weatherClientConfig;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}</p>
<p>Now you can use this in the Model or Page. Here&#8217;s an example of displaying a property from the config on the page:</p>
<p>@page<br>
@model IndexModel</p>
<p>&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;h1&gt;@Model.WeatherClientConfig.WeatherAPIUrl&lt;/h1&gt;<br>
&lt;/div&gt;</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->

		<li id="comment-32483" class="comment even thread-even depth-1 parent">
			<article class="comment-body" id="div-comment-32483" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Raphael</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-32483">									<time datetime="2022-09-14T13:40:03-04:00" itemprop="datePublished">
										09/14/2022 at 1:40 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Hi when i run my app , section.Get() returns null and i don&#8217;t know the reason.<br>
Can i have the help please?</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-32490" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-32490" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-32490">									<time datetime="2022-09-14T14:56:36-04:00" itemprop="datePublished">
										09/14/2022 at 2:56 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Hi Raphael,</p>
<p>section.Get() returns null if it&#8217;s an empty IConfigurationSection. When you use config.GetSection(), it returns an empty IConfigurationSection if the section doesn&#8217;t exist in the appsettings.json. </p>
<p>Check three things:<br>
1. Verify you are using the right name with config.GetSection():<br>
var section = config.GetSection(&quot;ThisIsTheWrongName&quot;); //This would return an empty IConfigurationSection since it&#8217;s the wrong name<br>
var weatherClientConfig = section.Get&lt;WeatherClientConfig&gt;();</p>
<p>2. If you&#8217;re using the right name with config.GetSection(), then verify that the section exists in appsettings.json.</p>
<p>3. If it exists and the name is right, then you&#8217;re probably loading the wrong appsettings.json accidently (or it isn&#8217;t being copied to the build output folder, so doesn&#8217;t have your class in it). </p>
<p>You can print out the file path for troubleshooting:</p>
<p>var filePath = Path.Combine(AppDomain.CurrentDomain.BaseDirectory, &quot;appsettings.json&quot;);<br>
Console.WriteLine(&quot;File is here: &quot; + filePath);</p>
<p>Go take a look at the file and see if it&#8217;s what you expect. </p>
<p>Note: I&#8217;m assuming you&#8217;re using AppDomain.CurrentDomain.BaseDirectory.</p>
<p>If you&#8217;re still having trouble, feel free to reply and share the relevant parts of your code (including appsettings.json).</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->

		<li id="comment-49215" class="comment even thread-odd thread-alt depth-1 parent">
			<article class="comment-body" id="div-comment-49215" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">bkwdesign</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-49215">									<time datetime="2023-01-13T16:25:26-05:00" itemprop="datePublished">
										01/13/2023 at 4:25 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>What if your appsettings.json has an array of items in it. I&#8217;m having trouble with this.</p>
<p> var result = config.GetValue&lt;List&lt;Restriction&gt;&gt;(&#8220;MyCorp:Restriction&#8221;);</p>
<p>{<br>
  &#8220;MyCorp&#8221;: {<br>
    &#8220;Restriction&#8221;: [<br>
      {<br>
        &#8220;Company&#8221;: &#8220;ABC&#8221;,<br>
        &#8220;Account&#8221;: 8999<br>
      },<br>
      {<br>
        &#8220;Company&#8221;: &#8220;XYZ&#8221;,<br>
        &#8220;Account&#8221;: 8988<br>
      }<br>
    ]<br>
  }<br>
}</p>
				</div>
			</article>
			<ul class="children">

		<li id="comment-49216" class="comment byuser comment-author-mak bypostauthor odd alt depth-2">
			<article class="comment-body" id="div-comment-49216" itemtype="https://schema.org/Comment" itemscope>
				<footer class="comment-meta" aria-label="Comment meta">
										<div class="comment-author-info">
						<div class="comment-author vcard" itemprop="author" itemtype="https://schema.org/Person" itemscope>
							<cite itemprop="name" class="fn">Maclain Wiltzer</cite>						</div>

													<div class="entry-meta comment-metadata">
								<a href="/csharp-how-to-read-custom-configuration-from-appsettings-json/#comment-49216">									<time datetime="2023-01-13T17:09:13-05:00" itemprop="datePublished">
										01/13/2023 at 5:09 pm									</time>
								</a>							</div>
												</div>

									</footer>

				<div class="comment-content" itemprop="text">
					<p>Hi,</p>
<p>Instead of GetValue, use GetSection + Get, like this:</p>
<p>var section = config.GetSection(&quot;MyCorp:Restriction&quot;);<br>
var restrictionList = section.Get&lt;List&lt;CompanyAccount&gt;&gt;();</p>
<p>foreach(var ca in restrictionList)<br>
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine($&quot;{ca.Company}={ca.Account}&quot;);<br>
}</p>
				</div>
			</article>
			</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->
		</ol>
<!-- .comment-list -->

			
	
</div>
<!-- #comments -->
			</div>

					</main>
	</div>

	<div class="widget-area sidebar is-right-sidebar grid-25 tablet-grid-25 grid-parent" id="right-sidebar">
	<div class="inside-right-sidebar">
		<aside id="block-19" class="widget inner-padding widget_block"><div></div></aside>	</div>
</div>

	</div>
</div>


<div class="site-footer footer-bar-active footer-bar-align-right">
			<footer class="site-info" aria-label="Site" itemtype="https://schema.org/WPFooter" itemscope>
			<div class="inside-site-info grid-container grid-parent">
						<div class="footer-bar">
			<aside id="block-11" class="widget inner-padding widget_block"></aside><aside id="block-7" class="widget inner-padding widget_block"><a href="/about/">About</a> ‚Ä¢ <a href="/privacy-policy/">Privacy Policy</a></aside>		</div>
						<div class="copyright-bar">
					<span class="copyright">&copy; 2025 makolyte</span></div>
			</div>
		</footer>
		</div>

<script id="generate-a11y">!function(){"use strict";if("querySelector"in document&&"addEventListener"in window){var e=document.body;e.addEventListener("mousedown",function(){e.classList.add("using-mouse")}),e.addEventListener("keydown",function(){e.classList.remove("using-mouse")})}}();</script><!--[if lte IE 11]>
<script src="/wp-content/themes/generatepress/assets/js/classList.min.js?ver=3.3.1" id="generate-classlist-js"></script>
<![endif]-->
<script id="generate-menu-js-extra">var generatepressMenu = {"toggleOpenedSubMenus":"1","openSubMenuLabel":"Open Sub-Menu","closeSubMenuLabel":"Close Sub-Menu"};</script>
<script src="/wp-content/themes/generatepress/assets/js/menu.min.js?ver=3.3.1" id="generate-menu-js"></script>
<script id="generate-navigation-search-js-extra">var generatepressNavSearch = {"open":"Open Search Bar","close":"Close Search Bar"};</script>
<script src="/wp-content/themes/generatepress/assets/js/navigation-search.min.js?ver=3.3.1" id="generate-navigation-search-js"></script>
<script src="/wp-includes/js/comment-reply.min.js?ver=6.7.2" id="comment-reply-js" async data-wp-strategy="async"></script>

</body>


<!-- plugin=object-cache-pro client=phpredis metric#hits=1789 metric#misses=51 metric#hit-ratio=97.2 metric#bytes=782903 metric#prefetches=0 metric#store-reads=107 metric#store-writes=10 metric#store-hits=107 metric#store-misses=47 metric#sql-queries=18 metric#ms-total=457.46 metric#ms-cache=87.85 metric#ms-cache-avg=0.7574 metric#ms-cache-ratio=19.2 -->
</html>